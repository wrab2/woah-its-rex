const recipes = {
    "pickaxe0" : {
        name: "What do I even name pickaxe 0",
        recipe: []
    },
    "pickaxe1" : {
        name : "Mulch Mallet",
        recipe : [{ore:"🟫", amt:5000},{ore:"🟧", amt:160},{ore:"🟡", amt:30},{ore:"🔴", amt:17},{ore:"⚫", amt:7}],
        active : [],
    },
    "pickaxe2" : {
        name : "Mud Sickle",
        recipe : [{ore:"🟫", amt:25000},{ore:"🟥", amt:750},{ore:"🔵", amt:300},{ore:"🟣", amt:60},{ore:"🧧", amt:15}],
        active : [],
    },
    "pickaxe3" : {
        name : "Dirt Ravager",
        recipe : [{ore:"🟫", amt:100000},{ore:"🟧", amt:4000},{ore:"🟢", amt:1800},{ore:"🟠", amt:650},{ore:"🟤", amt:240},{ore:"⬜", amt:30},{ore:"🟨", amt:2}],
        active : [],
    },
    "pickaxe28" : {
        name: "Crystalline Excavator",
        recipe : [{ore:"🌫️", amt:250000},{ore:"🟪", amt:6900},{ore:"🟡", amt:2500},{ore:"◽", amt:480},{ore:"🔲", amt:3},{ore:"🔘", amt:2},{ore:"🔻", amt:1},{ore:"💚", amt:1}],
        active : []
    },
    "pickaxe29" : {
        name: "Ballast Breaker",
        recipe : [{ore:"🌫️", amt:500000},{ore:"🟧", amt:25000},{ore:"🔵", amt:8500},{ore:"⚫", amt:1300},{ore:"⬛", amt:70},{ore:"🟦", amt:25},{ore:"🔺", amt:2},{ore:"🔹", amt:1},{ore:"💙", amt:2},{ore:"🤎", amt:1}],
        active : []
    },
    "pickaxe30" : {
        name: "Tropical Carver",
        recipe : [{ore:"🌫️", amt:1250000},{ore:"🟥", amt:52000},{ore:"🟢", amt:28000},{ore:"⬜", amt:500},{ore:"🔲", amt:15},{ore:"🔻", amt:5},{ore:"🔸", amt:2},{ore:"🔷", amt:3},{ore:"💚", amt:3},{ore:"❤️", amt:2},{ore:"🤍", amt:1}],
        active : []
    },
    "pickaxe4" : {
        name : "Void Crusher",
        recipe : [{ore:"📰", amt:2000000},{ore:"🟪", amt:68000},{ore:"◽", amt:4750},{ore:"⬛", amt:270},{ore:"🟨", amt:60},{ore:"🔘", amt:15},{ore:"🔹", amt:7},{ore:"🔶", amt:5},{ore:"💙", amt:10},{ore:"❤️", amt:8},{ore:"🤍", amt:4},{ore:"⚙️", amt:1}],
        active : [],
    },
    "pickaxe5" : {
        name : "Geode Staff",
        recipe : [{ore:"🪨", amt:2500000},{ore:"🟠", amt:32500},{ore:"🟣", amt:12000},{ore:"◾", amt:6900},{ore:"⬜", amt:1000},{ore:"🟦", amt:160},{ore:"🔺", amt:5},{ore:"🔹", amt:8},{ore:"💜", amt:8},{ore:"🖤", amt:5},{ore:"💠", amt:1},{ore:"🥏", amt:1}],
        active : [],
    },
    "pickaxe6" : {
        name : "Earth Soiler",
        recipe : [{ore:"🟫", amt:3000000},{ore:"🟧", amt:290000},{ore:"🔵", amt:87500},{ore:"🟤", amt:13500},{ore:"🔻", amt:20},{ore:"🔶", amt:8},{ore:"❤️", amt:20},{ore:"🤍", amt:10},{ore:"🍁", amt:2},{ore:"🎄", amt:1}],
        active : [],
    },
    "pickaxe7" : {
        name : "Crypt Smasher",
        recipe : [{ore:"🌵", amt:4000000},{ore:"🌊", amt:1500000},{ore:"🟢", amt:185000},{ore:"🟤", amt:27750},{ore:"🟨", amt:150},{ore:"🔸", amt:20},{ore:"🔷", amt:20},{ore:"🖍️", amt:2},{ore:"⚱️", amt:2},{ore:"🤿", amt:1},{ore:"🫧", amt:1},{ore:"🎀", amt:1}],
        active : [],
    },
    "pickaxe8" : {
        name : "Labyrinthian Tide",
        recipe : [{ore:"🧱", amt:5000000},{ore:"🌊", amt:5000000},{ore:"☢️", amt:5000000},{ore:"🟪", amt:470000},{ore:"🧧", amt:15000},{ore:"🟨", amt:700},{ore:"🔺", amt:65},{ore:"🔶", amt:30},{ore:"🗿", amt:2},{ore:"🪙", amt:2},{ore:"🔔", amt:2},{ore:"🧩", amt:2},{ore:"⛵", amt:3},{ore:"🎣", amt:3},{ore:"🎇", amt:1},{ore:"🧲", amt:1},{ore:"👑", amt:1}],
        active : [],
    },
    "pickaxe9" : {
        name : "77 Leaf Destroyer",
        recipe : [{ore:"📰", amt:15000000},{ore:"🧱", amt:15000000},{ore:"🟥", amt:1400000},{ore:"🟣", amt:115000},{ore:"⬜", amt:13500},{ore:"🔘", amt:280},{ore:"🔹", amt:100},{ore:"✂️", amt:20},{ore:"🎲", amt:18},{ore:"🪜", amt:17},{ore:"🪚", amt:15},{ore:"🏆", amt:4},{ore:"🧨", amt:5},{ore:"🔗", amt:6},{ore:"📝", amt:1}],
        active : [],
    },
    "pickaxe10" : {
        name : "Planet Buster",
        recipe : [{ore:"🟫", amt:75000000},{ore:"🟧", amt:4150000},{ore:"🟡", amt:920000},{ore:"◾", amt:135000},{ore:"🔲", amt:1200},{ore:"🔸", amt:200},{ore:"🔷", amt:180},{ore:"🍁", amt:50},{ore:"🌻", amt:45},{ore:"🪵", amt:45},{ore:"🎄", amt:35},{ore:"🎍", amt:15},{ore:"🎃", amt:6},{ore:"🌲", amt:6},{ore:"🌏", amt:2},{ore:"🌪️", amt:2},{ore:"🥗", amt:1}],
        active : [],
    },
    "pickaxe11" : {
        name : "Whirlpool of Fate",
        recipe : [{ore:"🌊", amt:225000000},{ore:"🔴", amt:1200000},{ore:"◽", amt:450000},{ore:"🟨", amt:5300},{ore:"🔻", amt:1000},{ore:"🔶", amt:470},{ore:"⛵", amt:325},{ore:"🎣", amt:315},{ore:"🤿", amt:300},{ore:"🫧", amt:300},{ore:"🐟", amt:100},{ore:"👑", amt:40},{ore:"🔱", amt:35},{ore:"🌀", amt:5},{ore:"👿", amt:4},{ore:"🪩", amt:3},{ore:"💫", amt:1}],
        active : [],
    },
    "pickaxe12" : {
        name : "Wings of Glory",
        recipe : [{ore:"🧱", amt:150000000},{ore:"🪨", amt:150000000},{ore:"🌫️", amt:150000000},{ore:"🔵", amt:8000000},{ore:"🟠", amt:4000000},{ore:"⚫", amt:1230000},{ore:"🧧", amt:390000},{ore:"🟦", amt:22900},{ore:"🔺", amt:1900},{ore:"💚", amt:1500},{ore:"🤍", amt:750},{ore:"🧵", amt:70},{ore:"❄️", amt:40},{ore:"🥉", amt:35},{ore:"🧊", amt:25},{ore:"💸", amt:20},{ore:"👁️", amt:7},{ore:"🌈", amt:5},{ore:"🌇", amt:3}],
        active : [],
    },
    "pickaxe13" : {
        name : "The Key",
        recipe :  [{ore:"🟫", amt:10000000},{ore:"🧱", amt:10000000},{ore:"🌫️", amt:10000000},{ore:"🌊", amt:10000000},{ore:"🪨", amt:10000000},{ore:"☢️", amt:10000000},{ore:"🌵", amt:10000000},{ore:"📰", amt:10000000},{ore:"🌏", amt:1},{ore:"🔩", amt:1},{ore:"🧵", amt:1},{ore:"🌀", amt:1},{ore:"❄️", amt:1},{ore:"🥀", amt:1},{ore:"🔥", amt:1},{ore:"📝", amt:1}],
        active : [],
    },
    "pickaxe14" : {
        name : "Extreme Echolocator",
        recipe : [{ore:"📺", amt:50000},{ore:"🔃", amt:500},{ore:"↘️", amt:10},{ore:"⏬", amt:1},],
        active : []
    },
    "pickaxe15" : {
        name : "Corundum Caver",
        recipe : [{ore:"🚪", amt:400000},{ore:"🔁", amt:1800},{ore:"⬇️", amt:150},{ore:"⏫", amt:18},{ore:"▶️", amt:1},],
        active : []
    },
    "pickaxe16" : {
        name : "Starborne Slasher",
        recipe : [{ore:"🌐", amt:1000000},{ore:"⤵️", amt:1900},{ore:"↪️", amt:960},{ore:"🔽", amt:95},{ore:"⏮️", amt:15},{ore:"📕", amt:1},],
        active : []
    },
    "pickaxe17" : {
        name : "Nyabomb",
        recipe : [{ore:"♟️", amt:3000000},{ore:"🔂", amt:16000},{ore:"⏺️", amt:40},{ore:"⏏️", amt:10},{ore:"📗", amt:5},{ore:"📘", amt:3},{ore:"✏️", amt:1},],
        active : []
    },
    "pickaxe18" : {
        name : "Lunar Lightsabre",
        recipe : [{ore:"☁️", amt:7500000},{ore:"⬅️", amt:6000},{ore:"↖️", amt:1300},{ore:"➡️", amt:1150},{ore:"📙", amt:6},{ore:"🌧️", amt:2},{ore:"🌤️", amt:1},],
        active : []
    },
    "pickaxe19" : {
        name : "Gemstone Engraver",
        recipe : [{ore:"♟️", amt:12500000},{ore:"⬆️", amt:9750},{ore:"◀️", amt:1200},{ore:"⏯️", amt:275},{ore:"⏸️", amt:130},{ore:"📗", amt:15},{ore:"🧠", amt:2},{ore:"📐", amt:1},],
        active : []
    },
    "pickaxe20" : {
        name : "Gambler's Fallacy",
        recipe : [{ore:"❌", amt:2000000},{ore:"📺", amt:35000000},{ore:"🔼", amt:4850},{ore:"⏪", amt:1400},{ore:"✴️", amt:3},{ore:"📙", amt:20},{ore:"🛡️", amt:20},{ore:"🪃", amt:10},{ore:"🪓", amt:3},],
        active : []
    },
    "pickaxe21" : {
        name : "Exponential Centrifuge",
        recipe : [{ore:"☁️", amt:37500000},{ore:"🚪", amt:37500000},{ore:"🔃", amt:2160000},{ore:"⏏️", amt:70},{ore:"📘", amt:50},{ore:"🔑", amt:20},{ore:"🌨️", amt:10},{ore:"🖇️", amt:10},{ore:"⛈️", amt:3},],
        active : []
    },
    "pickaxe22" : {
        name : "Singularity Slammer",
        recipe : [{ore:"❌", amt:75000000},{ore:"📺", amt:100000000},{ore:"🔄", amt:2230000},{ore:"↪️", amt:260000},{ore:"⏬", amt:7800},{ore:"⏯️", amt:2100},{ore:"📗", amt:35},{ore:"📕", amt:30},{ore:"📙", amt:25},{ore:"📘", amt:20},{ore:"🛡️", amt:30},{ore:"🪃", amt:25},{ore:"🪓", amt:5},{ore:"🔕", amt:2},{ore:"🔨", amt:1}],
        active : []
    },
    "pickaxe23" : {
        name : "Staff of Binding",
        recipe : [{ore:"🚪", amt:200000000},{ore:"↘️", amt:148000},{ore:"➡️", amt:73000},{ore:"🔽", amt:49000},{ore:"🔒", amt:125},{ore:"🔑", amt:100},{ore:"🖇️", amt:35},{ore:"🔏", amt:5},{ore:"⛓️", amt:4},],
        active : []
    },
    "pickaxe24" : {
        name : "SSS",
        recipe : [{ore:"☁️", amt:625000000},{ore:"🔃", amt:16175000},{ore:"⤵️", amt:2440000},{ore:"⏬", amt:28900},{ore:"⏺️", amt:18300},{ore:"📙", amt:7500},{ore:"📘", amt:6000},{ore:"🌨️", amt:300},{ore:"🪁", amt:200},{ore:"⛈️", amt:120},{ore:"🌩️", amt:45},{ore:"🪶", amt:4},],
        active : []
    },
    "pickaxe25" : {
        name : "Coronary Catastrophe",
        recipe : [{ore:"🌐", amt:1500000000},{ore:"🔂", amt:17825000},{ore:"⬇️", amt:1480000},{ore:"◀️", amt:220000},{ore:"⏫", amt:178000},{ore:"🖱️", amt:2300},{ore:"💔", amt:200},{ore:"🔪", amt:50},{ore:"🧂", amt:20},{ore:"📽️", amt:10},{ore:"💘", amt:1},],
        active : []
    },
    "pickaxe26" : {
        name : "Null Chroma",
        recipe : [{ore:"❌", amt:44444444444},{ore:"🕳️", amt:2600000},{ore:"✴️", amt:260},{ore:"⚙️", amt:1750000},{ore:"💠", amt:1460000},{ore:"🫧", amt:1000000},{ore:"💍", amt:584000},{ore:"🎍", amt:240000},{ore:"👑", amt:140000},{ore:"💎", amt:51500},{ore:"🌟", amt:34000},{ore:"💥", amt:23360},{ore:"🌀", amt:14175},{ore:"🪐", amt:12350},{ore:"🥗", amt:10950},{ore:"🪩", amt:8750},{ore:"📌", amt:275},{ore:"🚧", amt:320},{ore:"💫", amt:4350},{ore:"⛏️", amt:1},{ore:"☯️", amt:1},{ore:"🌳", amt:30},{ore:"🏰", amt:30},{ore:"🚿", amt:30},{ore:"🏔️", amt:30},{ore:"⚠️", amt:30},{ore:"🐪", amt:30},{ore:"🐋", amt:1095},{ore:"💵", amt:30},{ore:"🍃", amt:25},{ore:"👾", amt:15},{ore:"🪡", amt:15},{ore:"🚽", amt:15},{ore:"🎓", amt:15},{ore:"⚡", amt:15},{ore:"💘", amt:30},{ore:"💢", amt:50},{ore:"🪽", amt:2},{ore:"🗝️", amt:2},{ore:"🚫", amt:2},{ore:"♨️", amt:1},]        ,
        active : []
    },
    "pickaxe27" : {
        name: "The Tree of Life",
        recipe : [],
        active : [],
        pUnob: true
    },
    "pickaxe31" : {
        name: "Undersea Eviscerator",
        recipe : [{ore:"🌊", amt:500000000000},{"ore":"⛵","amt":336000000},{"ore":"🎣","amt":322000000},{"ore":"🤿","amt":306000000},{"ore":"🫧","amt":303000000},{"ore":"🐟","amt":102000000},{"ore":"👑","amt":40800000},{"ore":"🔱","amt":37900000},{"ore":"🌀","amt":4290000},{"ore":"👿","amt":3540000},{"ore":"🪩","amt":2650000},{"ore":"💫","amt":1320000},{"ore":"🐋","amt":331000},{"ore":"⚓","amt":3540},{ore:"🪸", amt:1000},{ore:"HD 160529", amt:1}],
        active : [],
        pUnob: true
    },
    "pickaxe32" : {
        name: "Dimensional Slicer",
        recipe : [{ore:"australiumIngot", amt:7500000},{ore: "⚠️", amt:175000},{ore: "🐪", amt:150000},{ore: "🐋", amt:145000},{ore: "🏰", amt:131500},{ore: "💵", amt:131500},{ore: "🌳", amt:125000},{ore: "🦴", amt:6700},{ore: "🦚", amt:4800},{ore: "🎩", amt:3900},{ore: "🏯", amt:2725},{ore: "🍓", amt:2095},{ore: "🤖", amt:1830},{ore: "Bismuth", amt:1140},{ore: "mutatedGrowth", amt:320},{ore: "godOfTheMine", amt:5},{ore: "unstableCore", amt:1}],
        active : [],
        pUnob: true
    },
    "pickaxe33" : {
        name: "Wormhole Exterminator",
        recipe : [{ore:"australiumIngot", amt:66000000},{"ore":"⚙️","amt":250000000},{"ore":"🃏","amt":250000000},{"ore":"🖍️","amt":250000000},{"ore":"✂️","amt":250000000},{"ore":"⚱️","amt":250000000},{"ore":"🎲","amt":250000000},{"ore":"📟","amt":250000000},{"ore":"🗡️","amt":250000000},{"ore":"🎀","amt":250000000},{"ore":"🏆","amt":250000000},{"ore":"🗜️","amt":250000000},{"ore":"⌚","amt":206000000},{"ore":"⭐","amt":152000000},{"ore":"🔆","amt":143000000},{"ore":"🔥","amt":67200000},{"ore":"📝","amt":53800000},{"ore":"🌟","amt":41800000},{"ore":"💥","amt":28600000},{"ore":"🪐","amt":15100000},{"ore":"👀","amt":11200000},{"ore":"🏵️","amt":4130000},{"ore":"🪅","amt":3310000},{"ore":"🐪","amt":1370000},{"ore":"💵","amt":1200000},{"ore":"🦴","amt":61400},{"ore":"🎩","amt":35800},{"ore":"J1407b","amt":1},{"ore":"ascendedArtifact","amt":1}],
        active : [],
        pUnob: true,
        req: function() {
            return (toggleCraftingWorld.world === 1.1 || toggleCraftingWorld.world === 1.1) ? player.gears["gear43"] : true;
        }
    },
    "pickaxe34" : {
        name: "Supercluster Capsizer",
        recipe : [{"ore":"🎮","amt":1250000000},{"ore":"🎫","amt":1250000000},{"ore":"🚗","amt":1250000000},{"ore":"📢","amt":1250000000},{"ore":"🎑","amt":1010000000},{"ore":"📿","amt":336000000},{"ore":"🎎","amt":159000000},{"ore":"🗳️","amt":113000000},{"ore":"⚛️","amt":28100000},{"ore":"🛢️","amt":8200000},{"ore":"💽","amt":323000},{"ore":"🍭","amt":37500},{"ore":"singularityEgg","amt":1}],
        active : [],
        pUnob: true
    },
    "pickaxe35" : {
        name: "Galactic Engulfer",
        recipe : [{"ore":"nebula","amt":25000000000000},{"ore":"J1407b","amt":45},{"ore":"ascendedArtifact","amt":33},{"ore":"otherside","amt":17},{"ore":"noradrenaline","amt":1}],
        active : [],
        pUnob: true
    },
    "pickaxe36": {
        name: "Pickaxe of Flight",
        recipe: [{"ore": "orbOfFlight", "amt": 1}],
        active : [],
        req: function() {
            return player.p.orbOfFlight;
        },
        pUnob: true
    },
    "gear0" : {
        name : "Ore Tracker",
        recipe : [{ore:"🪨", amt:1000000},{ore:"🟠", amt:9750},{ore:"◽", amt:2400},{ore:"🔲", amt:15},{ore:"🔶", amt:2},{ore:"🔋", amt:1},],
        active : [0.9, 1, 1.2, 2]
    },
    "gear1" : {
        name : "Real Candilium",
        recipe : [{ore:"🌫️", amt:5000000},{ore:"🟤", amt:12500},{ore:"⬜", amt:1700},{ore:"🟦", amt:200},{ore:"🔻", amt:20},{ore:"🔷", amt:4},{ore:"🎭", amt:2},{ore:"🪄", amt:1},{ore:"🕯️", amt:1}],
        active : [0.9, 1, 1.2]
    },
    "gear2" : {
        name : "Real Vitriol",
        recipe : [{ore:"🌵", amt:10000000},{ore:"🔴", amt:55000},{ore:"🔹", amt:35},{ore:"🔸", amt:25},{ore:"🖤", amt:10},{ore:"🤍", amt:20},{ore:"🖍️", amt:5},{ore:"⚱️", amt:8},{ore:"⭐", amt:1}],
        active : [0.9, 1, 1.2]
    },
    "gear3" : {
        name : "Infinity Collector",
        recipe : [{ore:"🪨", amt:75000000},{ore:"💠", amt:50},{ore:"⚜️", amt:50},{ore:"🔋", amt:15},{ore:"🔮", amt:10},{ore:"☄️", amt:6},{ore:"💎", amt:3}],
        active : [0.9, 1, 1.2]
    },
    "gear4" : {
        name : "Layer Materializer",
        recipe : [{ore:"🟫", amt:15000000},{ore:"🧱", amt:15000000},{ore:"🌫️", amt:15000000},{ore:"🌊", amt:15000000},{ore:"🪨", amt:15000000},{ore:"☢️", amt:15000000},{ore:"🌵", amt:60000000},{ore:"📰", amt:15000000},{ore:"📟", amt:7},{ore:"⌚", amt:2},{ore:"🔥", amt:2},],
        active : [0.9, 1, 1.2]
    },
    "gear5" : {
        name : "Fortune III Book",
        recipe : [{ore:"🌫️", amt:150000000},{ore:"🌊", amt:150000000},{ore:"🪄", amt:75},{ore:"🎨", amt:30},{ore:"🕋", amt:25},{ore:"🕯️", amt:15},{ore:"🌀", amt:1},{ore:"⌛", amt:1},],
        active : [0.9, 1, 1.2]
    },
    "gear6" : {
        name : "Haste II Beacon",
        recipe : [{ore:"🌵", amt:350000000},{ore:"⚱️", amt:300},{ore:"🗡️", amt:270},{ore:"🎀", amt:75},{ore:"🔆", amt:35},{ore:"⭐", amt:35},{ore:"💥", amt:7},{ore:"🪐", amt:3},],
        active : [0.9, 1, 1.2]
    },
    "gear7" : {
        name : "Energy Siphoner",
        recipe : [{ore:"🌫️", amt:25000000},{ore:"🟥", amt:1000000},{ore:"🧧", amt:20500},{ore:"🔺", amt:100},{ore:"🎭", amt:5},{ore:"🎴", amt:3},{ore:"🎨", amt:1},{ore:"🕋", amt:1},],
        active : [0.9, 1, 1.2]
    },
    "gear8" : {
        name : "Sugar Rush",
        recipe : [{ore:"☢️", amt:40000000},{ore:"⬛", amt:6500},{ore:"🔲", amt:700},{ore:"🔶", amt:100},{ore:"🧪", amt:10},{ore:"⚗️", amt:5},{ore:"⏹️", amt:3},{ore:"🔳", amt:1}],
        active : [0.9, 1, 1.2]
    },
    "gear9" : {
        name : "SILLYYYY",
        recipe : [{ore:"🎂", amt:1},{ore:"🔮", amt:1},{ore:"🪄", amt:1},],
        active : [1]
    },
    "gear10" : {
        name : "Logical Randomiser",
        recipe : [{ore:"🌐", amt:2500000},{ore:"🔄", amt:18500},{ore:"🔀", amt:6500},{ore:"➡️", amt:325},{ore:"⏫", amt:130},{ore:"⏏️", amt:10},{ore:"📕", amt:10},{ore:"📙", amt:10},{ore:"💻", amt:1},],
        active : [0.9, 1, 1.2, 2]
    },
    "gear11" : {
        name : "Storm Sneakers",
        recipe : [{ore:"☁️", amt:5500000},{ore:"🔁", amt:25000},{ore:"↘️", amt:1750},{ore:"⏪", amt:140},{ore:"⏯️", amt:50},{ore:"📗", amt:30},{ore:"📘", amt:20},{ore:"🌧️", amt:3},{ore:"🌥️", amt:1},],
        active : [0.9, 1, 1.2, 2]
    },
    "gear12" : {
        name : "Artifice Annihilator",
        recipe : [{ore:"🚪", amt:8750000},{ore:"⤴️", amt:17500},{ore:"⬅️", amt:10000},{ore:"⏬", amt:350},{ore:"⏏️", amt:45},{ore:"🔒", amt:4},{ore:"🔑", amt:3},{ore:"🖇️", amt:1},],
        active : [0.9, 1, 1.2, 2]
    },
    "gear13" : {
        name : "Repurposed Replicator",
        recipe : [{ore:"🌐", amt:15000000},{ore:"🔃", amt:317500},{ore:"⤴️", amt:15000},{ore:"➡️", amt:2925},{ore:"⏺️", amt:325},{ore:"💻", amt:15},{ore:"🖱️", amt:5},],
        active : [0.9, 1, 1.2, 2]
    },
    "gear14" : {
        name : "Cavern Capacitator",
        recipe : [{ore:"♟️", amt:22500000},{ore:"🔂", amt:280000},{ore:"↩️", amt:57500},{ore:"▶️", amt:450},{ore:"✏️", amt:10},{ore:"🧠", amt:6},{ore:"📖", amt:5},{ore:"📐", amt:2},{ore:"📚", amt:2},],
        active : [0.9, 1, 1.2, 2]
    },
    "gear15" : {
        name : "High Powered Vacuum",
        recipe : [{ore:"☁️", amt:6000000},{ore:"📺", amt:6000000},{ore:"🚪", amt:6000000},{ore:"🌐", amt:6000000},{ore:"♟️", amt:6000000},{ore:"🔄", amt:690000},{ore:"⬆️", amt:49750},{ore:"◀️", amt:6200},{ore:"⏺️", amt:1400},{ore:"📗", amt:60},{ore:"📕", amt:50},{ore:"📙", amt:40},{ore:"📘", amt:30},{ore:"🛡️", amt:15},],
        active : [0.9, 1, 1.2, 2]
    },
    "gear16" : {
        name : "Unlocked Speedcap",
        recipe : [{ore:"🌐", amt:60000000},{ore:"➡️", amt:19650},{ore:"⏩", amt:3250},{ore:"⏭️", amt:2500},{ore:"▶️", amt:915},{ore:"🖱️", amt:30},{ore:"🍆", amt:5},{ore:"💔", amt:2},],
        active : [0.9, 1, 1.2, 2]
    },
    "gear17" : {
        name : "Infinity Collector II",
        recipe : [{ore:"♟️", amt:100000000},{ore:"⤵️", amt:530000},{ore:"🔽", amt:26500},{ore:"🔼", amt:23000},{ore:"⏸️", amt:2000},{ore:"✏️", amt:70},{ore:"🧠", amt:35},{ore:"📖", amt:35},{ore:"📐", amt:15},{ore:"📚", amt:10},{ore:"🖊️", amt:3}],
        active : [0.9, 1, 1.2, 2]
    },
    "gear18" : {
        name : "Clovers Undoing",
        recipe : [{ore:"📺", amt:250000000},{ore:"🔀", amt:1650000},{ore:"⬅️", amt:470000},{ore:"⏩", amt:8750},{ore:"⏮️", amt:11225},{ore:"⏸️", amt:2200},{ore:"🛡️", amt:275},{ore:"🪃", amt:235},{ore:"🪓", amt:35},{ore:"🔨", amt:5},{ore:"💣", amt:3},],
        active : [0.9, 1, 1.2, 2]
    },
    "gear19" : {
        name : "Structural Service",
        recipe : [{ore:"🚪", amt:1500000000},{ore:"⤴️", amt:3400000},{ore:"↪️", amt:2300000},{ore:"⏪", amt:57000},{ore:"⏯️", amt:19500},{ore:"🔒", amt:4200},{ore:"🖇️", amt:1300},{ore:"⛓️", amt:100},{ore:"🚧", amt:30},{ore:"🛎️", amt:5},],
        active : [0.9, 1, 1.2, 2]
    },
    "gear20" : {
        name : "Statistical Amplifier",
        recipe : [{ore:"♟️", amt:4500000000},{ore:"↩️", amt:9000000},{ore:"⬆️", amt:4450000},{ore:"↖️", amt:1250000},{ore:"⏭️", amt:120000},{ore:"✏️", amt:10000},{ore:"📐", amt:3000},{ore:"🔎", amt:150},{ore:"📌", amt:75},{ore:"📍", amt:15},{ore:"🎓", amt:9}],
        active : [0.9, 1, 1.1, 1.2, 2]
    },
    "gear21" : {
        name : "Oblivion Fracturer",
        recipe : [{ore:"🦠", amt:70000000},{ore:"☣️", amt:40000000},{ore:"🎵", amt:20000000},{ore:"❓", amt:15000000},{ore:"🪇", amt:1},{ore:"🧬", amt:1},{ore:"🔭", amt:1},{ore:"🕸️", amt:1},],
        active : [0.9, 1, 1.1, 1.2, 2]
    },
    "gear22" : {
        name : "Replicator Prototype",
        recipe : [{ore:"🇿🇦", amt:110}, {ore:"🇹🇿", amt:100}, {ore:"🇨🇩", amt:75}],
        active : [0.9, 1, 1.1, 1.2, 2]
    },
    "gear23" : {
        name : "Hyperdrive Accelerator",
        recipe : [{ore:"🇯🇵", amt:25}, {ore:"🇧🇩", amt:25}, {ore:"🇵🇰", amt:15}],
        active : [0.9, 1, 1.1, 1.2, 2]
    },
    "gear24" : {
        name : "Superenergetic Automaton",
        recipe : [{ore:"🇨🇺", amt:15}, {ore:"🇭🇹", amt:13}, {ore:"🇬🇹", amt:10}],
        active : [0.9, 1, 1.1, 1.2, 2]
    },
    "gear25" : {  
        name : "Alteration Reiterator",
        recipe : [{ore:"🇪🇸", amt:15}, {ore:"🇮🇹", amt:13}, {ore:"🇫🇷", amt:10}],
        active : [0.9, 1, 1.1, 1.2, 2]
    },
    "gear26" : {  
        name : "Stratum Nonillonator",
        recipe : [{ore:"🇪🇨", amt:18}, {ore:"🇨🇱", amt:15}, {ore:"🇻🇪", amt:12}],
        active : [0.9, 1, 1.1, 1.2, 2]
    },
    "gear27" : {  
        name : "Biome Enchanter",
        recipe : [{ore:"🇻🇺", amt:6}, {ore:"🇫🇲", amt:5}, {ore:"🇸🇧", amt:4}, {ore:"🇰🇾", amt:3}, {ore:"🇨🇰", amt:1}, {ore:"🇫🇰", amt:1}],
        active : [0.9, 1, 1.1, 1.2, 2]
    },
    "gear28" : {  
        name : "Celestian Reaper",
        recipe : [{ore:"🇸🇩", amt:740000},{ore:"🇳🇬", amt:37500},{ore:"🇨🇳", amt:6600},{ore:"🇭🇳", amt:1800},{ore:"🇺🇸", amt:600},{ore:"🇷🇺", amt:180},{ore:"🇧🇷", amt:18},{ore:"🇫🇯", amt:1},{ore:"🇳🇿", amt:1},],
        active : [0.9, 1, 1.1, 1.2, 2]
    },
    "gear29" : {  
        name : "Abyssal Leaper",
        recipe : [{ore:"📰", amt:1000000000},{ore:"🎲", amt:9000},{ore:"🏆", amt:1900},{ore:"🗜️", amt:1700},{ore:"⌚", amt:1400},{ore:"📝", amt:350},{ore:"🌟", amt:250},{ore:"👀", amt:70},{ore:"🪅", amt:20},{ore:"💵", amt:6}],
        active : [0.9, 1, 1.1, 1.2, 2]
    },
    "gear30" : {  
        name : "RNG Manipulator",
        recipe : [{ore:"🌫️", amt:350000},{ore:"◾", amt:350},{ore:"🧧", amt:175},{ore:"🔻", amt:1},{ore:"🤍", amt:2}],
        active : [0.9, 1, 1.1, 1.2, 2]
    },
    "gear31" : {  
        name : "Makeshift Accelerator",
        recipe : [{ore:"☢️", amt:600000},{ore:"🔵", amt:9000},{ore:"🟨", amt:10},{ore:"🔘", amt:3},{ore:"🔸", amt:2},{ore:"💙", amt:5},{ore:"❤️", amt:4}],
        active : [0.9, 1, 1.2, 2]
    },
    "gear32" : {  
        name : "Quantum Entangler",
        recipe : [{ore:"📺", amt:750000},{ore:"🔃", amt:7500},{ore:"🔂", amt:3000},{ore:"⤵️", amt:1000},{ore:"🔽", amt:50},{ore:"📗", amt:25},{ore:"📘", amt:10}],
        active : [0.9, 1, 1.1, 1.2, 2]
    },
    "gear33" : {  
        name : "Subatomic Superpositioner",
        recipe : [{ore:"🚪", amt:45000000},{ore:"🔁", amt:25000},{ore:"⬅️", amt:4400},{ore:"🔼", amt:440},{ore:"⏺️", amt:75},{ore:"🔒", amt:10},{ore:"🔑", amt:10},{ore:"🖇️", amt:3}],
        active : [0.9, 1, 1.1, 1.2, 2]
    },
    "gear34": {
        name : "Potentiality Multiplier",
        recipe : [{ore:"australiumIngot", amt:250000},{ore:"🥇", amt:17600},{ore:"Fox", amt:3911},{ore:"⛔", amt:1735},{ore:"Nyerd", amt:1730},{ore:"🔈", amt:666},{ore:"🧌", amt:1120},{ore:"🎉", amt:782},{ore:"🫶", amt:782},{ore:"🚫", amt:267},{ore:"♨️", amt:66},{ore:"kaleidoscope", amt:85},{ore:"🩸", amt:34},{ore:"mushroomCats", amt:55},{ore:"qrCode", amt:2}],
        active : [0.9, 1, 1.1, 1.2, 2]
    },
    "gear35": {
        name : "Electrifying Propagator",
        recipe : [{ore:"australiumIngot", amt:750000},{"ore":"💠","amt":150000000},{"ore":"⚜️","amt":150000000},{"ore":"🥏","amt":150000000},{"ore":"💍","amt":150000000},{"ore":"🔋","amt":130000000},{"ore":"🔮","amt":78200000},{"ore":"☄️","amt":64700000},{"ore":"💎","amt":27600000},{"ore":"❄️","amt":12100000},{"ore":"🧊","amt":8050000},{"ore":"🌈","amt":1700000},{"ore":"apatite","amt":1440000},{"ore":"🏔️","amt":853000},{"ore":"🪦","amt":12100},{"ore":"🪤","amt":5860},{"ore":"variousMinerals","amt":2290}],
        active : [0.9, 1, 1.1, 1.2, 2]
    },
    "gear36": {
        name: "Lightspeed Emulator",
        recipe: [{"ore":"✏️","amt":32700000},{"ore":"🧠","amt":17300000},{"ore":"📖","amt":16800000},{"ore":"📐","amt":7900000},{"ore":"📚","amt":5580000},{"ore":"🖊️","amt":1620000},{"ore":"🔎","amt":370000},{"ore":"📌","amt":218000},{"ore":"📍","amt":62200},{"ore":"🎓","amt":34000},{"ore":"🌱","amt":3230},{"ore":"⚖️","amt":2180}],
        active : [0.9, 1, 1.2, 1.1, 2]
    },
    "gear37": {
        name: "Increased Exponentiality",
        recipe: [{"ore":"🎐","amt":215000000},{"ore":"🌧️","amt":215000000},{"ore":"🌤️","amt":215000000},{"ore":"🌥️","amt":215000000},{"ore":"🌨️","amt":152000000},{"ore":"🪂","amt":127000000},{"ore":"🪁","amt":84000000},{"ore":"⛈️","amt":51600000},{"ore":"🌩️","amt":21800000},{"ore":"🌦️","amt":13800000},{"ore":"starglint","amt":5700000},{"ore":"🪶","amt":1850000},{"ore":"🍃","amt":283000},{"ore":"⚡","amt":39800},{"ore":"🪽","amt":14700}],
        active : [0.9, 1, 1.2, 1.1, 2]
    },
    "gear38": {
        name: "Forgotten Rose Quartz Shell",
        recipe: [{"ore":"🔕","amt":464000000},{"ore":"⭕","amt":174000000},{"ore":"🛑","amt":104000000},{"ore":"🔇","amt":31600000},{"ore":"💢","amt":4010000},{"ore":"⛔","amt":408000},{"ore":"🔈","amt":156000},{"ore":"🚫","amt":62900},{"ore":"♨️","amt":15500},{"ore":"🩸","amt":8030}],
        active : [0.9, 1, 1.2, 1.1, 2],
        pUnob: true
    },
    "gear39": {
        name: "Armband of Endless Dreams",
        recipe: [{"ore":"💻","amt":2750000000},{"ore":"⌨️","amt":2750000000},{"ore":"🖱️","amt":2750000000},{"ore":"🍆","amt":1640000000},{"ore":"💔","amt":741000000},{"ore":"🔪","amt":181000000},{"ore":"matrix","amt":113000000},{"ore":"🧂","amt":85900000},{"ore":"📽️","amt":30400000},{"ore":"🚽","amt":5670000},{"ore":"💘","amt":3280000},{"ore":"💞","amt":1190000},{"ore":"💰","amt":134000},{"ore":"☘️","amt":5940},{"ore":"🍀","amt":300}],
        active : [0.9, 1, 1.2, 1.1, 2],
        pUnob: true
    },
    //1.044e17
    "gear40": {
        name: "Ring of Life",
        recipe: [{"ore": "orbOfLife", "amt": 1}],
        active : [0.9, 1, 1.2, 1.1, 2],
        req: function() {
            return player.p.orbOfLife;
        },
        pUnob: true
    },
    "gear41": {
        name: "Ring of Intelligence",
        recipe: [{"ore": "orbOfIntelligence", "amt": 1}],
        active : [0.9, 1, 1.2, 1.1, 2],
        req: function() {
            return player.p.orbOfIntelligence;
        },
        pUnob: true
    },
    "gear42": {
        name: "Ring of Sound",
        recipe: [{"ore": "orbOfSound", "amt": 1}],
        active : [0.9, 1, 1.2, 1.1, 2],
        req: function() {
            return player.p.orbOfSound;
        },
        pUnob: true
    },
    "gear43": {
        name: "Ring of The Unknown",
        recipe: [{"ore": "orbOfTheUnknown", "amt": 1}],
        active : [0.9, 1, 1.2, 1.1, 2],
        req: function() {
            return player.p.orbOfTheUnknown;
        },
        pUnob: true
    },
    "gear44": {
        name: "Ring of Creation",
        recipe: [{"ore": "orbOfCreation", "amt": 1}],
        active : [0.9, 1, 1.2, 1.1, 2],
        req: function() {
            return player.p.orbOfCreation;
        },
        pUnob: true
    },
    "gear45": {
        name: "Event Manager",
        recipe: [{"ore":"🎁","amt":60000000},{"ore":"🎮","amt":65},{"ore":"🎫","amt":55},{"ore":"🚗","amt":35},{"ore":"📢","amt":6},{"ore":"🎑","amt":5}],
        active : [0.9, 1, 1.2, 1.1, 2],
    },
    "gear46": {
        name: "Time Destabilizer",
        recipe: [{"ore": "🎁", "amt": 750000},{"ore": "🟥", "amt": 750},{"ore": "🟦", "amt": 45},{"ore": "🔶", "amt": 2},{"ore": "💚", "amt": 3},{"ore": "🎮", "amt": 1}],
        active : [0.9, 1, 1.2, 1.1, 2],
    },
    "gear47": {
        name: "Disengaged Incrementer",
        recipe: [{"ore":"🎁","amt":2500000000},{"ore":"🎮","amt":53100},{"ore":"🎫","amt":44400},{"ore":"🚗","amt":28800},{"ore":"📢","amt":5310},{"ore":"🎑","amt":3960},{"ore":"📿","amt":1310},{"ore":"🎎","amt":600},{"ore":"🗳️","amt":400},{"ore":"⚛️","amt":100},{"ore":"🛢️","amt":30}],
        active : [0.9, 1, 1.2, 1.1, 2],
    },
    "gear48": {
        name: "Ring of Fire",
        recipe: [{"ore": "orbOfFire", "amt": 1}],
        active : [0.9, 1, 1.2, 1.1, 2],
        req: function() {
            return player.p.orbOfFire;
        },
        pUnob: true
    },
}
function calcLayerEstimates(obj/*l: [layers], e: [excluded tiers], a: layer amount, v: luck, c: search for celestial*/) {
    let layer = [];
    for (let i = 0; i < obj.l.length; i++) {
        layer = layer.concat([...layerList[obj.l[i]]]);
    }
    layer = sortLayerBase(layer)
    while (layer.indexOf("sillyMiner") > -1) layer.splice(layer.indexOf("sillyMiner"), 1)
    const results = []
    const luck = obj.v;
    for (let i = 0; i < layer.length; i++) {
        if (!obj.e.includes(oreList[layer[i]]["oreTier"])) {
            let rarity = oreList[layer[i]]["numRarity"]/luck;
            if (rarity < 1000) rarity = 1000;
            if (oreList[layer[i]]["oreTier"] === "Layer") rarity = 1;
            let oreAmt = Math.floor(obj.a/rarity);
            if (oreAmt > 1000) {
                const logMod = Math.floor(Math.log10(oreAmt));
                const div = (Math.pow(10, logMod-2))
                oreAmt = Math.floor(oreAmt/div)
                oreAmt *= div;
            } else if (oreAmt > 100) {
                while (oreAmt%50 !== 0) oreAmt--;
            } else if (oreAmt > 10) {
                while (oreAmt%5 !== 0) oreAmt--;
            }
            if (oreAmt > 0) results.push({ore: layer[i], amt: oreAmt});
        }
    }
    return results.reverse();
}
recipeElements = {};
let currentRecipeId = undefined;
function displayRecipe(recipe) {
    if (recipe === currentRecipeId) {
        if (pinInformation.pinned === undefined && !pinInformation.locked) removeRecipeElements();
        getButtonByName(currentRecipeId).classList.remove("selectedOutline");
        currentRecipeId = undefined;
        get("scrollableCraft").style.display = "none";
    } else {
        if (!pinInformation.locked) removeRecipeElements();
        if (currentRecipeId !== undefined) {
            buttonGradients[`${currentRecipeId}Craft`]["applied"] = false;
            getButtonByName(currentRecipeId).classList.remove("selectedOutline");
        }
        else get("scrollableCraft").style.display = "inline-flex";
        if (pinInformation.pinned !== undefined) pinInformation.pinned = recipe;
        getButtonByName(recipe).classList.add("selectedOutline");
        currentRecipeId = recipe;
        const extraInfo = get("extraInformationText")
        const extraIcon = get("extraInformationIcon")
        const nameElem = get("newCraftingName");
        const tierElem = get("newCraftingTier");
        const minedElem = get("newCraftingMined");
        const revealedElem = get("newCraftingRevealed");
        const rateElem = get("newCraftingRate");
        const luckElem = get("newCraftingLuck");
        const consElem = get("newCraftingCons");
        const abilityElem = get("newCraftingAbilityImage");
        const iconElem = get("newCraftingPickaxeIcon");
        if (recipe.indexOf("pickaxe") > -1) {
            get("gearHolder").style.display = "none";
            get("pickaxeHolder").style.display = "";
            let pickaxe = pickaxeStats[recipe];
            get("craftingContainer").style.top = `min(${2 * origins["pickaxe"].top}vh,${origins["pickaxe"].top}vw)`;
						get("scrollableCraft").style.flexDirection = "row"
            get("craftingContainer").style.borderBottomLeftRadius = `0`;
            get("craftingContainer").style.borderTopRightRadius = `0.5vw`;
            extraInfo.innerHTML = pickaxeStats[recipe].extraInformation;
            if (extraInfo.innerHTML === "undefined") extraInfo.innerHTML = "No Extra Info!";
            extraIcon.textContent = `${pickaxeStats[recipe].icon === "" ? "No Icon! You can make one!" : `Icon made by ${pickaxeStats[recipe].icon}!`}`;
            nameElem.textContent = recipes[recipe].name;
            if (recipe !== "pickaxe27") {
                tierElem.textContent = `Tier ${pickaxe.tier}`;
                minedElem.textContent = `${pickaxe.mined.toLocaleString()} Ability Mined.`;
                minedElem.style.height = "min(3vh,1.5vw)";
                revealedElem.textContent = `${pickaxe.revealed.toLocaleString()} Ability Revealed.`;
                rateElem.textContent = `1/${pickaxe.rate.toLocaleString()} Ability Activation Rate.`;
                luckElem.textContent = `${pickaxe.luck.toLocaleString()}x Luck.`;
                let blocksUsed = (pickaxe.mined > pickaxe.revealed ? pickaxe.mined : pickaxe.revealed);
                let cons = blocksUsed * pickaxe.luck / pickaxe.rate;
                consElem.textContent = `${(Math.round(cons*1000)/1000).toLocaleString()} Pickaxe Consistency.`;
                let curSrc = pickaxe.ability;
                abilityElem.src = curSrc ? curSrc : 'media/noFile.png';
                let stp = pickaxe.src;
                stp  = stp.substring(stp.indexOf("src") + 5, stp.indexOf("</img>") - 2);
                curSrc = stp;
                if (curSrc === "⛏️") curSrc = 'media/noFile.png';
                iconElem.src = curSrc;
                if (!pinInformation.locked) {
                    addRecipeInformation(currentRecipeId);
                }
            } else {
                const treeUpgradeInfo = upgradeRecipes["pickaxe27"][`upgrade${player.upgrades["pickaxe27"].level}`];
                const treeInfo = pickaxe[player.upgrades["pickaxe27"].level];
                const nextInfo = pickaxe[player.upgrades["pickaxe27"].level+1];
                tierElem.textContent = `Tier ${pickaxe.tier}`;
                minedElem.textContent = `${formatNumber(treeInfo.mined)}${nextInfo === undefined ? "" : ` -> ${formatNumber(nextInfo.mined)}`} Ability Mined.`;
                minedElem.style.height = "1.5vw";
                revealedElem.textContent = `${formatNumber(treeInfo.revealed)}${nextInfo === undefined ? "" : ` -> ${formatNumber(nextInfo.revealed)}`} Ability Revealed.`;
                rateElem.textContent = `1/${pickaxe.rate.toLocaleString()} Ability Activation Rate.`;
                luckElem.textContent = `${formatNumber(treeInfo.luck)}x${nextInfo === undefined ? "" : ` -> ${formatNumber(nextInfo.luck)}x`} Luck.`;
                let blocksUsed = (treeInfo.mined > treeInfo.revealed ? treeInfo.mined : treeInfo.revealed);
                let cons = blocksUsed * treeInfo.luck / pickaxe.rate;
                consElem.textContent = `${(Math.round(cons*1000)/1000).toLocaleString()} Pickaxe Consistency.`;
                let curSrc = pickaxe.ability;
                abilityElem.src = curSrc ? curSrc : 'media/noFile.png';
                let stp = pickaxe.src;
                stp  = stp.substring(stp.indexOf("src") + 5, stp.indexOf("</img>") - 2);
                curSrc = stp;
                if (curSrc === "⛏️") curSrc = 'media/noFile.png';
                iconElem.src = curSrc;
                if (!pinInformation.locked && player.upgrades["pickaxe27"].level < 5) {
                    addRecipeInformation(currentRecipeId);
                } else if (!pinInformation.locked && player.upgrades["pickaxe27"].level === 5) {
                    get("newCraftItem").setAttribute("onclick", `craftPickaxe('pickaxe27')`);
                }
            }
        } else {
            get("craftingContainer").style.top = "0px";
						get("scrollableCraft").style.flexDirection = "column"
            get("craftingContainer").style.borderBottomLeftRadius = `0.5vw`;
            get("craftingContainer").style.borderTopRightRadius = `0`;
            get("gearHolder").style.display = "";
            get("pickaxeHolder").style.display = "none";
            const gear = gearInformation[recipe];
            extraInfo.textContent = "Gears don't have extra info!";
            extraIcon.textContent = "Gears don't have icons!";
            nameElem.textContent = recipes[recipe].name;
            tierElem.textContent = `Tier ${gear.tier}`;
            get("newCraftingGearEffect").innerHTML = gearInformation[recipe].effect;
            if (!pinInformation.locked) {
                addRecipeInformation(currentRecipeId);
            }
            
        }
       
    }
    updateActiveRecipe();
}
function addRecipeInformation(recipe) {
    let thisRecipe = recipes[recipe].recipe;
    if (recipe === "pickaxe27") thisRecipe = upgradeRecipes["pickaxe27"][`upgrade${player.upgrades["pickaxe27"].level}`].recipe;
    const append = get("newCraftingRecipeHolder");
    for (let i = 0; i < thisRecipe.length; i++) {
        const ore = thisRecipe[i].ore;
        const have = playerInventory[ore]["normalAmt"];
        const need = thisRecipe[i].amt;
        append.appendChild(createOreElement(have, need, ore));
    }
    append.children[append.children.length - 1].style.borderBottom = "0.1vw solid var(--main-border-color)";
    get("newCraftItem").setAttribute("onclick", `craftPickaxe('${recipe}')`);
}
function hideElem(elem) {
    elem.style.display = "none";
}
const pinInformation = {
    pinned: undefined,
    collapsed: false,
    locked: false,
    lockedId: undefined
}
const origins = {
    "pickaxe": {
        top: 4.2,
        left: 24
    },
    "gear": {
        top: 12.7,
        left:0
    }
}
function pinRecipe() {
    const newPin = document.createElement("div");
    newPin.id = "pinnedRecipeHolder";
    newPin.appendChild(get("collapseRecipe"));
    newPin.appendChild(get("lockRecipe"));
    newPin.appendChild(get("pinAndCraft"));
    newPin.appendChild(get("newCraftingRecipeHolder"));
    newPin.appendChild(get("estimatedTime"));
    document.body.appendChild(newPin);
    get("pinRecipe").style.display = "none";
    get("unpinRecipe").style.display = "block";
    get("newCraftingHolderheader").style.display = "block";
    get("collapseRecipe").style.display = "block";
    get("lockRecipe").style.display = "block";
    let size;
    if (currentRecipeId.indexOf("gear") > -1) size = currentRecipeId.substring(0, 4);
    else size = currentRecipeId.substring(0, 7);
    dragElement(get("pinnedRecipeHolder"));
    const locs = get("craftingContainer").getBoundingClientRect();
    get("craftingContainer").style.display = "none";
    newPin.style.top = (locs.top) * (100/document.documentElement.clientHeight)+"vh";
    newPin.style.left = (locs.left) * (100/document.documentElement.clientWidth)+"vw";
    pinInformation.pinned = currentRecipeId;
}
function unpinRecipe() {
    if (pinInformation.locked) return;
    if (pinInformation.collapsed) collapseRecipe();
    const oldParent = get("craftingContainer");
    oldParent.style.display = "block";
    oldParent.appendChild(get("collapseRecipe"));
    oldParent.appendChild(get("lockRecipe"));
    oldParent.appendChild(get("pinAndCraft"));
    oldParent.appendChild(get("newCraftingRecipeHolder"));
    oldParent.appendChild(get("estimatedTime"));
    get("pinRecipe").style.display = "block";
    get("unpinRecipe").style.display = "none";
    get("newCraftingHolderheader").style.display = "none";
    get("collapseRecipe").style.display = "none";
    get("lockRecipe").style.display = "none";
    let size;
    let cID = currentRecipeId === undefined ? "pickaxe1" : currentRecipeId
    if (cID.indexOf("gear") > -1) size = cID.substring(0, 4);
    else size = cID.substring(0, 7);
    get("pinnedRecipeHolder").remove();
    pinInformation.pinned = undefined;
}
function lockRecipe() {
    if (pinInformation.locked) {
        pinInformation.locked = false;
        if (currentRecipeId === undefined) {
            unpinRecipe();
        }
        else if (currentRecipeId !== pinInformation.lockedId) {
            removeRecipeElements();
            addRecipeInformation(currentRecipeId);
        }
        pinInformation.lockedId = undefined;
        get("lockRecipe").textContent = "Unlocked";
        get("lockRecipe").style.color = "#6BC267";
    } else {
        const id = currentRecipeId;
        pinInformation.locked = true;
        pinInformation.lockedId = id;
        get("lockRecipe").textContent = "Locked";
        get("lockRecipe").style.color = "#FF3D3D";
    }

}
let extraToggled = false;
function toggleExtraInformation() {
    const extra = get("extraPickaxeInformation");
    const cur = extra.style.animation;
    if (extraToggled && cur === "") {
        extra.style.animation = "retractExtra 0.25s linear 1";
        extra.onanimationend = () => {
            extra.style.left = "min(6vh,3vw)";
            extra.style.animation = "";
            extra.onanimationend = undefined;
            extra.children[2].style.rotate = "0deg";
        }
        extraToggled = false;
    } else if (cur === "") {
        extra.style.animation = "extendExtra 0.25s linear 1";
        extra.onanimationend = () => {
            extra.style.left = "min(47vh,23.5vw)";
            extra.style.animation = "";
            extra.onanimationend = undefined;
            extra.children[2].style.rotate = "180deg";
        }
        extraToggled = true;
    }
}
function collapseRecipe() {
    if (pinInformation.collapsed) {
      //fold
        pinInformation.collapsed = false;
        get("newCraftingRecipeHolder").style.height = "min(29.2vh,14.6vw)";
        get("pinnedRecipeHolder").style.height = "min(42vh, 21vw)";
        get("collapseRecipe").children[0].children[0].style.backgroundImage = "url('media/downone.png')";
        const textEdit = get("collapseRecipe").children[0];
        textEdit.innerHTML = textEdit.innerHTML.replace("Collapse", "Expand");
    } else {
      //unfold
        pinInformation.collapsed = true;
        get("newCraftingRecipeHolder").style.height = "100%";
        get("pinnedRecipeHolder").style.height = "min-content";
        get("collapseRecipe").children[0].children[0].style.backgroundImage = "url('media/upone.png')";
        const textEdit = get("collapseRecipe").children[0];
        textEdit.innerHTML = textEdit.innerHTML.replace("Expand", "Collapse");
    }
    
}
//i copy pasted all this shit lol
function dragElement(elmnt) {
  let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
  let el = get("newCraftingHolderheader")
  el.onpointerdown = dragMouseDown;

  function dragMouseDown(e) {
    el.classList.add("held")
    e = e || window.event;
    e.preventDefault();
    pos3 = e.clientX;
    pos4 = e.clientY;
    el.onpointerup = closeDragElement;
    el.onpointerout = closeDragElement;
    el.onpointermove = elementDrag;
  }

  function elementDrag(e) {
    e = e || window.event;
    e.preventDefault();
    pos1 = pos3 - e.clientX;
    pos2 = pos4 - e.clientY;
    pos3 = e.clientX;
    pos4 = e.clientY;
    const tpx = (elmnt.offsetTop - pos2)* (100/document.documentElement.clientHeight);
    const lpx = (elmnt.offsetLeft - pos1)* (100/document.documentElement.clientWidth);
    elmnt.style.top = `${tpx}vh`;
    elmnt.style.left = `${lpx}vw`;
  }

  function closeDragElement() {
    el.classList.remove("held")
    el.onpointerup = null;
    el.onpointerout = null;
    el.onpointermove = null;
  }
}
function removeRecipeElements() {
    const t = get("newCraftingRecipeHolder").children;
    for (let i = t.length - 1; i >= 0; i--) t[i].remove();
}
const cwnames = {
    "0.9" : "G",
    "1" : "W1",
    "2" : "W2",
    "1.1" : "SR1",
    "1.2" : "WW",
    "???" : "???"
} 
function toggleCraftingWorld() {
    setWorldSelectors();
    const vars = toggleCraftingWorld;
    if (vars.visible) {
        get("worldSelectables").style.display = "none";
        vars.visible = false;
    } else {
        get("worldSelectables").style.display = "flex";
        vars.visible = true;
    }
    showSelectedWorld();
    const text = getWorldText();
    get("worldSelectButton").textContent = `Items From World: ${cwnames[vars.world]}`;
    switchWorldCraftables(vars.world)
}
function selectCraftingWorld(num) {
    if (num !== "???") {
        toggleCraftingWorld.world = Number(worldFromName(num));
        toggleCraftingWorld(1);
    } else {
        switchWorldCraftables("???");
    }
}
function worldFromName(x) {
    for (const n in cwnames) {
        if (cwnames[n] === x) return n;
    }
}
toggleCraftingWorld.world = 1;
toggleCraftingWorld.visible = false;

function showSelectedWorld() {
    const elems = document.getElementsByClassName("worldCraftSelector");
    for (let i = 0; i < elems.length; i++) {
        const world = elems[i].textContent;
        if (worldFromName(world) === String(toggleCraftingWorld.world)) elems[i].classList.add("currentCraftingWorld");
        else elems[i].classList.remove("currentCraftingWorld");
    }
}
function getWorldText() {
    return get("craftingWorldSelect").innerText.substring(0, get("craftingWorldSelect").textContent.indexOf(`${toggleCraftingWorld.world}`));
}
function formatRecipeNum(n) {
    if (n >= 1000000000) return formatNumber(n, 2);
    else return n.toLocaleString();
}
function idFromName(name) {
    name = name.toLowerCase().replaceAll(" ", "");
    for (let item in recipes) {
        const iName = recipes[item].name.replaceAll(" ", "").toLowerCase();
        if (iName === name) return item;
    }
    return undefined;
}
let lastCount = -1;
function updateActiveRecipe() {
    let totalCount = 0;
    let count = 0;
    let thisId = currentRecipeId;
    thisId ??= pinInformation.pinned;
    if (pinInformation.lockedId !== undefined) thisId = pinInformation.lockedId;
    if (thisId !== undefined) {
        let totalRarity = 0;
        let currentRarity = 0;
            let recipe = recipes[thisId].recipe;
            if (thisId === "pickaxe27") {
                if (player.upgrades["pickaxe27"].level > 4) recipe = [];
                else recipe = upgradeRecipes["pickaxe27"][`upgrade${player.upgrades["pickaxe27"].level}`].recipe;
            } 
            const elements = get("newCraftingRecipeHolder").children;
            for (let i = 0; i < recipe.length; i++) {
                let ore = recipe[i].ore;
                const toChange = elements[i];
                if (oreList[ore] !== undefined) {
                    totalCount++;
                    let needed = recipe[i].amt;
                    let amtOwned = playerInventory[ore]["normalAmt"];
                    if (oreList[ore]["oreTier"] !== "Infinitesimal") totalRarity += oreList[ore]["numRarity"] * needed;
                    toChange.innerHTML = `${oreList[ore]["hasImage"] ? `<span class="craftingImage"><img src="${oreList[ore]["src"]}"></span>` : ore} ${amtOwned > 1000000000000 ? formatNumber(amtOwned, 3) : amtOwned.toLocaleString()}/${needed > 1000000000000 ? formatNumber(needed, 3) : needed.toLocaleString()}`;
                    if(amtOwned >= needed) {
                        if (oreList[ore]["oreTier"] !== "Infinitesimal") {
                            count++;
                            currentRarity += oreList[ore]["numRarity"] * needed;
                        }
                        toChange.style.color = "#6BC267";
                        if (player.settings.hideCompleted) toChange.style.display = "none";
                        else toChange.style.display = "flex";
                    }
                    else {
                        if (oreList[ore]["oreTier"] !== "Infinitesimal") {
                            currentRarity += oreList[ore]["numRarity"] * amtOwned;
                        }
                        toChange.style.color = "#FF3D3D";
                        toChange.style.display = "flex";
                    }  
                }
            }
        let button = get("newCraftItem");
        const type = (thisId.indexOf('pickaxe') > -1) ? "pickaxe" : "gear";
        if (player.pickaxes[thisId] || player.gears[thisId] || (thisId === "pickaxe27" && player.upgrades["pickaxe27"].level > 4)) {
            if (!(buttonGradients[`${thisId}Craft`]["applied"])) {
                button.style.backgroundImage = buttonGradients[`${thisId}Craft`]["gradient"];
                buttonGradients[`${thisId}Craft`]["applied"] = true;
            }
            if (type === "pickaxe" && player.stats.currentPickaxe === thisId) {
                if (thisId === "pickaxe26") button.innerText = "Equipped..?";
                else button.innerText = "Equipped!";
            } else if (type === "pickaxe") {
                if (thisId === "pickaxe26") button.innerText = "Pledge.";
                else button.innerText = "Equip!";
            } else {
                if (thisId === "gear9") button.innerText = "SILLIFY!";
                else button.innerText = "Owned!";
            }
        } else {
            let percent = 100 * (currentRarity/totalRarity);
            percent = Math.round(percent * 100) / 100;
            if (count < totalCount && percent === 100) percent = 99.99; 
            button.style.backgroundImage = "linear-gradient(to right, #6BC267 " + percent + "%, #FF3D3D " + (percent + 5) + "%)";
            if (percent < 100) button.innerText = percent + "%";
            else button.innerText = "Craft!";
            buttonGradients[`${thisId}Craft`]["applied"] = false;
            if (thisId === "pickaxe27" && currentWorld !== 1.1) {
                if (player.stats.currentPickaxe === "pickaxe27") button.textContent = "Equipped!";
                else button.textContent = "Equip!";
                
                button.style.backgroundImage = buttonGradients[`${thisId}Craft`]["gradient"];
            }
        }
        const display = get("estimatedTimeHolder");
        if (display !== null) display.textContent = `Est. Time: ${ct()}`
    }
}
function createOreElement(have, need, ore) {
    const recipeElement = document.createElement('p');
    recipeElement.classList = `recipeOreDisplay`;
    const oreTier = oreList[ore]["oreTier"];
    let htmlOutput = ``;
    if (oreList[ore]["hasImage"]) {
        htmlOutput += `<span class="craftingImage"><img src="${oreList[ore]["src"]}"></span>`;
    } else {
        htmlOutput += `${ore} `;
    }
    if (have !== undefined) {
        htmlOutput += ` ${have > 1000000000000 ? formatNumber(have, 3) : have.toLocaleString()}/`;
    }
    htmlOutput += `${need > 1000000000000 ? formatNumber(need, 3) : need.toLocaleString()}`;
    recipeElement.innerHTML = htmlOutput;
    recipeElement.setAttribute("onclick", `randomFunction("${ore}", "crafting")`);
    const colors = oreInformation.getColors(oreList[ore]["oreTier"]);
    recipeElement.classList.add(getShadowClass(colors["textColor"]));
    recipeElement.style.backgroundImage = `linear-gradient(to right, black, ${colors["backgroundColor"]}, black)`;
    if (have !== undefined) {
        if (have >= need) recipeElement.style.color = "#6BC267";
        else recipeElement.style.color = "#FF3D3D";
    }
    return recipeElement;
}
const buttonGradients = {
    "pickaxe1Craft" : {"gradient" : "linear-gradient(to right, darkgray, darkgray)","applied" : false},
    "pickaxe2Craft" : {"gradient" : "linear-gradient(to right, #412B15, #412B15)","applied" : false},
    "pickaxe3Craft" : {"gradient" : "linear-gradient(to right, #C4A484, #C4A484)","applied" : false},
    "pickaxe4Craft" : {"gradient" : "linear-gradient(to right, white, #C0C0C0)","applied" : false},
    "pickaxe5Craft" : {"gradient" : "linear-gradient(to right, #87CEEB, #2C75FF)","applied" : false},
    "pickaxe6Craft" : {"gradient" : "linear-gradient(to right, #53CB59 30%, 50%, #CF7C5C)","applied" : false},
    "pickaxe7Craft" : {"gradient" : "linear-gradient(to right, #FFC71F 30%, 55%, #440B81)","applied" : false},
    "pickaxe8Craft" : {"gradient" : "linear-gradient(to right, #94BDC0 40%, 60%, #FFFF9D)","applied" : false},
    "pickaxe9Craft" : {"gradient" : "linear-gradient(to right, #E4A436 20%, #00F438, #33FFA4)","applied" : false},
    "pickaxe10Craft" : {"gradient" : "linear-gradient(to right, #DF1717, #00CF11, #2100CA)","applied" : false},
    "pickaxe11Craft" : {"gradient" : "linear-gradient(to right, #A0EE30, #FCFF25, #CFFFFE, #9AC6F1)","applied" : false},
    "pickaxe12Craft" : {"gradient" : "linear-gradient(90deg, rgba(255,0,0,1) 0%, rgba(255,154,0,1) 10%, rgba(208,222,33,1) 20%, rgba(79,220,74,1) 30%, rgba(63,218,216,1) 40%, rgba(47,201,226,1) 50%, rgba(28,127,238,1) 60%, rgba(95,21,242,1) 70%, rgba(186,12,248,1) 80%, rgba(251,7,217,1) 90%, rgba(255,0,0,1) 100%)","applied" : false},
    "pickaxe13Craft" : {"gradient" : "linear-gradient(to right, #ffffff, #404040)","applied" : false},
    "pickaxe14Craft" : {"gradient" : "linear-gradient(to right, #70E3FF, 65%, #2BFF00)","applied" : false},
    "pickaxe15Craft" : {"gradient" : "linear-gradient(to right, #FF143E 25%, 50%, #3127ED 75%)","applied" : false},
    "pickaxe16Craft" : {"gradient" : "linear-gradient(to right, #FF3607, #FFE428)","applied" : false},
    "pickaxe17Craft" : {"gradient" : "linear-gradient(to right, #FF7011, 40%, #A9A9A9, #6C6C6C)","applied" : false},
    "pickaxe18Craft" : {"gradient" : "linear-gradient(to right, #C6F9FF, #5B6BC1, #FAFAFA)","applied" : false},
    "pickaxe19Craft" : {"gradient" : "linear-gradient(to right, #FF9F39, 30%, #6BFFE5, 80%, #FF9F39)","applied" : false},
    "pickaxe20Craft" : {"gradient" : "linear-gradient(to right, #D10003, #F210A7, 50%, #FFDF55 90%)","applied" : false},
    "pickaxe21Craft" : {"gradient" : "linear-gradient(135deg, #FFE200, #464646, #FFE200, #464646, #FFE200, #464646, #FFE200)","applied" : false},
    "pickaxe22Craft" : {"gradient" : "linear-gradient(to right, #C20000, #FF5300, #0D0D0D, #0D0D0D, #0D0D0D, #0D0D0D, #FF5300, #C20000)","applied" : false},
    "pickaxe23Craft" : {"gradient" : "linear-gradient(to right, #F5F5F5, #0D0D0D, #FFFDAF, #0D0D0D, #F5F5F5)","applied" : false},
    "pickaxe24Craft" : {"gradient" : "linear-gradient(to right, #F6FF58 7%, #0030F1, #676767, #57FDFF, #FC5EFF 93%","applied" : false},
    "pickaxe25Craft" : {"gradient" : "linear-gradient(to right, #FF2454, #600018, #FF8DCC, #121212, #FF8DCC, #600018, #FF2454","applied" : false},
    "pickaxe26Craft" : {"gradient" : "linear-gradient(to right, #000000, #5D0000, #734600, #807A00, #074D00, #006564, #021652 , #3B0076, #460038, #5D0000, #000000)","applied" : false},
    "pickaxe27Craft" : {"gradient" : "linear-gradient(to right, #0CAE5B, #40EE95, #A67B51, #613B16, #A67B51, #40EE95, #0CAE5B)","applied" : false},
    "pickaxe28Craft" : {"gradient" : "linear-gradient(to right, #c370e1, #8282e6, #ffffcd)","applied" : false},
    "pickaxe29Craft" : {"gradient" : "linear-gradient(to right, #882608, #6c1805, #360a0a)","applied" : false},
    "pickaxe30Craft" : {"gradient" : "linear-gradient(to right, #feda84, #976393, #43457f, #ff9b83)","applied" : false},
    "pickaxe31Craft" : {"gradient" : "linear-gradient(to right, #feda84, #976393, #43457f, #ff9b83)","applied" : false},
    "pickaxe32Craft" : {"gradient" : "linear-gradient(to right, #000000, #FF4191, #E90074, #FFF078, #FFF078, #E90074, #FF4191, #000000)","applied" : false},
    "pickaxe33Craft" : {"gradient" : "linear-gradient(to right, #0d3dc3, #aafd0a, #c96709, #aafd0a, #0d3dc3)","applied" : false},
    "pickaxe34Craft" : {"gradient" : "linear-gradient(to right, #2c8769, #085e7e, #2b1660, #520276, #920042, #520276, #2b1660, #085e7e, #2c8769)","applied" : false},
    "pickaxe35Craft" : {"gradient" : "linear-gradient(to right, #000d6f, #8cd4ff, #0092ff, #7200ea, #0b517c, #7200ea, #0092ff, #8cd4ff, #000d6f)","applied" : false},
    "pickaxe36Craft" : {"gradient" : "linear-gradient(to right, #403330 5%, #C6D224, #403330 95%)","applied" : false},

    "gear0Craft" : {"gradient" : "linear-gradient(to right, #005820, #00FF23","applied" : false},
    "gear1Craft" : {"gradient" : "linear-gradient(to right, #FFF1C0, #FF9E40","applied" : false},
    "gear2Craft" : {"gradient" : "linear-gradient(to right, #F9F9F9, #FFFB48","applied" : false},
    "gear3Craft" : {"gradient" : "linear-gradient(to right, #2E2486, #45FFF2, #45A5FF","applied" : false},
    "gear4Craft" : {"gradient" : "linear-gradient(to right, #AEAEAE, #AEAEAE, #49C6FF, #6DD700, #F7F7F7, #AD7F57, #FF6312","applied" : false},
    "gear5Craft" : {"gradient" : "linear-gradient(to right, #CA18FF, #5D6BDC, #00ED2D, #5D6BDC, #CA18FF","applied" : false},
    "gear6Craft" : {"gradient" : "linear-gradient(to right, #CDAE35, #FFF584, #5DFBFF, #FFF584, #CDAE35","applied" : false},
    "gear7Craft" : {"gradient" : "linear-gradient(to right, #62FF96, #F9F9F9, #FF9FDF","applied" : false},
    "gear8Craft" : {"gradient" : "linear-gradient(to right, #FF5609, #D7C100, #A8FF21","applied" : false},
    "gear9Craft" : {"gradient" : "linear-gradient(to right, #FFEFD8, #FF5FE4, #FF2727, #FF5FE4, #FFEFD8)","applied" : false},
    "gear10Craft" : {"gradient" : "linear-gradient(to right, #8BEFFF, #44CDFF","applied" : false},
    "gear11Craft" : {"gradient" : "linear-gradient(to right, #0016AD, #616161, #616161, #FFEF32","applied" : false},
    "gear12Craft" : {"gradient" : "linear-gradient(to right, #931A1C 30%, #9CC400 80%","applied" : false},
    "gear13Craft" : {"gradient" : "linear-gradient(to right, #7AFF1F, #FFEB00, #FF0B0B","applied" : false},
    "gear14Craft" : {"gradient" : "linear-gradient(to right, #856447, #B2B2B2, #585858","applied" : false},
    "gear15Craft" : {"gradient" : "linear-gradient(to right, #DFCE21, #F1F1F1, #0C1656 90%","applied" : false},
    "gear16Craft" : {"gradient" : "linear-gradient(to right, #DCD56B, #550000, #00551F","applied" : false},
    "gear17Craft" : {"gradient" : "linear-gradient(to right, #2E2486, #45FFF2, #45A5FF ","applied" : false},
    "gear18Craft" : {"gradient" : "linear-gradient(to right, #FF7C00 10%, #032A00, #11E900, #032A00, #FF7C00 90%","applied" : false},
    "gear19Craft" : {"gradient" : "linear-gradient(to right, #CDCDCD 5%, #F55D2F, #474747, #EFD754, #474747, #F55D2F, #CDCDCD 95%","applied" : false},
    "gear20Craft" : {"gradient" : "linear-gradient(to right, #000000 5%, #FF3636, #E94585, #000ACE, #FFFFFF 95%","applied" : false},
    "gear21Craft" : {"gradient" : "linear-gradient(to right, #44533D, #37085A, #76734E, #116666, #58340B, #04370A, #3B0505, #740A32, #451676, #236B4B)","applied" : false},
    "gear22Craft" : {"gradient" : "linear-gradient(to right,#FF0B0B, #FFEB00, #7AFF1F)","applied" : false},
    "gear23Craft" : {"gradient" : "linear-gradient(to right, #00dfff, #3a00f9, #15fd00, #3a00f9, #00dfff)","applied" : false},
    "gear24Craft" : {"gradient" : "linear-gradient(to right, #FFFF99, #b4dcf0, #dcf0f0, #b4dcf0, #FFFF99)","applied" : false},
    "gear25Craft" : {"gradient" : "linear-gradient(to right, #e365fc, #c9fc3a, #ff4b33)","applied" : false},
    "gear26Craft" : {"gradient" : "linear-gradient(to right, #a3a09d, #585f2a, #978773, #8a8038, #5b590a)","applied" : false},
    "gear27Craft" : {"gradient" : "linear-gradient(to right, #DAE34A, #C69908, #EF5522, #C69908, #DAE34A)","applied" : false},
    "gear28Craft" : {"gradient" : "linear-gradient(to right, #5A1700, #8C2806, #AB3C16, #BC4E28, #DB5B2F, #F5541D, #FF4100)","applied" : false},
    "gear29Craft" : {"gradient" : "linear-gradient(to right, #2D3250, #424769, #7077A1, #424769, #2D3250)","applied" : false},
    "gear30Craft" : {"gradient" : "linear-gradient(to right, #d20202, #d20202)","applied" : false},
    "gear31Craft" : {"gradient" : "linear-gradient(to right, #5F9EA0, #5F9EA0)","applied" : false},
    "gear32Craft" : {"gradient" : "linear-gradient(to right, #854d89, #a9bf70, #8c4c4c)","applied" : false},
    "gear33Craft" : {"gradient" : "linear-gradient(to right, #350264, #303287, #000000, #226e8f, #15116d)","applied" : false},
    "gear34Craft" : {"gradient" : "linear-gradient(to right, #FF8F00, #AF47D2, #FFDB00, #26355D, #FFDB00, #AF47D2, #FF8F00)","applied" : false},
    "gear35Craft" : {"gradient" : "linear-gradient(to right, #850F8D, #E49BFF, #F8F9D7, #180161, #F8F9D7, #E49BFF, #850F8D)","applied" : false},
    "gear36Craft" : {"gradient" : "linear-gradient(to right, #121e1d, #345652, #5c9891, #e3eeec, #5c9891, #345652, #121e1d)","applied" : false},
    "gear37Craft" : {"gradient" : "linear-gradient(to right, #ccff33, #70e000, #008000, #004b23, #007200, #38b000, #9ef01a)","applied" : false},
    "gear38Craft" : {"gradient" : "linear-gradient(to right, #f7cac9, #ffdcdb, #ffffff, #b4c8ea, #91a8d0)","applied" : false},
    "gear39Craft" : {"gradient" : "linear-gradient(to right, #c4c5ff, #e1d3ff, #fce9ff, #e1d3ff, #c4c5ff)","applied" : false},
    "gear40Craft" : {"gradient" : "linear-gradient(to right, #403330 5%, #9A2910, #403330 95%)","applied" : false},
    "gear41Craft" : {"gradient" : "linear-gradient(to right, #403330 5%, #1662A4, #403330 95%)","applied" : false},
    "gear42Craft" : {"gradient" : "linear-gradient(to right, #403330 5%, #0A9420, #403330 95%)","applied" : false},
    "gear43Craft" : {"gradient" : "linear-gradient(to right, #403330 5%, #000000, #403330 95%)","applied" : false},
    "gear44Craft" : {"gradient" : "linear-gradient(to right, #403330 5%, #C6D224, #403330 95%)","applied" : false},
    "gear45Craft" : {"gradient" : "linear-gradient(to right, #D67AB1, #9E643C, #C2F8CB)","applied" : false},
    "gear46Craft" : {"gradient" : "linear-gradient(to right, #FB6376, #6DD6DA, #EFD6AC)","applied" : false},
    "gear47Craft" : {"gradient" : "linear-gradient(to right, #555B6E, #679436, #FFED65)","applied" : false},
    "gear48Craft" : {"gradient" : "linear-gradient(to right, #403330 5%, #000000, #403330 95%)","applied" : false},
    
}
function craftPickaxe(item) {
    let recipe = recipes[item].recipe;
    const type = (item.indexOf("pickaxe") > -1) ? "pickaxe" : "gear";
    if (item === "pickaxe27") {
        if (currentWorld === 1.1 && player.upgrades["pickaxe27"].level < 5) {
            recipe = upgradeRecipes["pickaxe27"][`upgrade${player.upgrades["pickaxe27"].level}`].recipe;
        } else if (currentWorld !== 1.1) {
            if (player.trophyProgress["subrealmOneCompletion"].trophyOwned) {
                player.stats.currentPickaxe = "pickaxe27";
                updateActiveRecipe();
                utilitySwitchActions();
                return;
            } else {
                return;
            }
        } else {
            return;
        }
    }
    if (!player.pickaxes[item] && !player.gears[item] || item === "pickaxe27") {
        if (item === "pickaxe13" && !player.pickaxes["pickaxe9"]) return;
        for (let i = 0; i < recipe.length; i++) {
            const amtNeeded = recipe[i].amt;
            const amtHave = playerInventory[recipe[i].ore]["normalAmt"];
            if (amtHave < amtNeeded) return;
        }
        for (let i = 0; i < recipe.length; i++) {
            const ore = recipe[i].ore;
            const amtNeeded = recipe[i].amt;
            playerInventory[ore]["normalAmt"] -= amtNeeded;
            inventoryObj[ore] = 0;
        }
        if (item === "pickaxe27") {
            player.upgrades["pickaxe27"].level++;
            player.upgrades["pickaxe27"].bought++;
            displayRecipe(currentRecipeId);
            displayRecipe("pickaxe27");
        }
        else if (type === "pickaxe") player.pickaxes[item] = true;
        else player.gears[item] = true;
    }
    if (type === "pickaxe") player.stats.currentPickaxe = item;
    if (currentWorld === 1 && item === "gear9")
        gearAbility2();
    if (player.gears["gear0"]) document.getElementById("trackerLock").style.display = "none";
    if (player.gears["gear24"]) get("allowAutoPowerup").style.display = "block";
    if (player.gears["gear45"]) showEventOptions();
    else hideEventOptions();
    updateActiveRecipe();
    utilitySwitchActions();
}
function getButtonByName(item) {
    const toSearch = document.getElementsByClassName("craftingButton");
    for (let i = 0; i < toSearch.length; i++) {
        let toCheck = toSearch[i].getAttribute('onclick');
        toCheck = toCheck.substring(15, toCheck.length - 2)
        if (toCheck === item) return toSearch[i];
    }
    return false;
}
function utilitySwitchActions() {
    const element = document.getElementsByClassName("equippedOutline");
    if (element[0] !== undefined) element[0].classList.remove("equippedOutline");
    const toAdd = getButtonByName(player.stats.currentPickaxe);
    if (toAdd) toAdd.classList.add("equippedOutline");
    changeLayerOres();
    updateAllLayers();
    if (debug) adminChangeLuck(verifiedOres.getCurrentLuck());
    verifiedOres.checkPickaxe();
    verifiedOres.checkCaves();
    displayArea();
    player.displayStatistics.luck = Math.floor(verifiedOres.getCurrentLuck());
    updateSpeed();
    a89();
    updateGearFaq();
}
function updateGearFaq() {
    let output = ``;
    for (let recipe in recipes) {
        if (player.gears[recipe] && recipes[recipe].active.includes(currentWorld)) output += `${recipes[recipe].name},<br>`;
    }
}
let m87 = 0;
const showOrders = {
    "p1" : ["pickaxe1", "pickaxe2", "pickaxe3", "pickaxe29", "pickaxe30", "pickaxe28", "pickaxe4", "pickaxe5", "pickaxe6", "pickaxe7", "pickaxe8", "pickaxe9", "pickaxe10", "pickaxe11", "pickaxe12", "pickaxe13"],
    "p2" : ["pickaxe13", "pickaxe14", "pickaxe15", "pickaxe16", "pickaxe17", "pickaxe18", "pickaxe19", "pickaxe20", "pickaxe21", "pickaxe22", "pickaxe23", "pickaxe24", "pickaxe25", "pickaxe26"],
    "g1" : ["gear30", "gear31", "gear46", "gear0", "gear1", "gear2", "gear7", "gear8", "gear45", "gear3", "gear4", "gear5", "gear6", "gear9", "gear29", "gear47"],
    "g2" : ["gear32", "gear10", "gear11", "gear12", "gear33", "gear13", "gear14", "gear15", "gear16", "gear17", "gear18", "gear19", "gear20", "gear21"],
    "p1.1" : ["pickaxe27", "pickaxe33"],
    "g1.1" : ["gear22", "gear23", "gear24", "gear25", "gear26", "gear27", "gear28"],
    "p1.2" : ["pickaxe31"],
    "g1.2" : ["gear36", "gear37"],
    "p0.9": ["pickaxe32", "pickaxe33", "pickaxe34", "pickaxe35", "pickaxe36"],
    "g0.9": ["gear34", "gear35", "gear38", "gear39", "gear40", "gear41", "gear42", "gear43", "gear44", "gear48"]
}
function showPickaxes() {
    appear(document.getElementById("pickaxeCrafts"));
    disappear(document.getElementById("gearCrafts"));
    let list = showOrders[`g${toggleCraftingWorld.world}`];
    for (let i = 0; i < list.length; i++) {
        showItem(list[i]);
    }
    if (indexHasOre("🎂") && toggleCraftingWorld.world === 1) document.getElementById("sillyRecipe").style.display = "flex";
    else document.getElementById("sillyRecipe").style.display = "none";
    document.getElementById("oblivionFracturer").style.display = "none";
    if (toggleCraftingWorld.world === 1.1 && !player.gears["gear43"]) getButtonByName("pickaxe33").style.display = "none";
    get("nullChroma").style.display = "none";
    setListHeight();
}
function showGears() {
    disappear(document.getElementById("pickaxeCrafts"));
    appear(document.getElementById("gearCrafts"));
    m87++;
    if (m87 === 3 && toggleCraftingWorld.world === 2) document.getElementById("oblivionFracturer").style.display = "flex";
    else if (m87 > 3) m87 = 0;
    let list;
    list = showOrders[`p${toggleCraftingWorld.world}`]
    for (let i = 0; i < list.length; i++) {
        showItem(list[i])
    }
    get("nullChroma").style.display = "none";
    setListHeight();
}
function showItem(id) {
    let canCont = true;
    if (recipes[id].req !== undefined) {
        if (!recipes[id].req()) canCont = false;
    }
    if (canCont) {
        getButtonByName(id).style.display = "flex";
    } else {
        getButtonByName(id).style.display = "none";
    }
}
function switchWorldCraftables(world=currentWorld) {
    if (world !== "???") {
        let gearList;
        let pickaxeList;
        const elements = document.getElementsByClassName("craftingButton");
        for (let i = 0; i < elements.length; i++) elements[i].style.display = "none";
        pickaxeList = showOrders[`p${world}`];
        gearList = showOrders[`g${world}`];
        for (let i = 0; i < gearList.length; i++) showItem(gearList[i]);
        for (let i = 0; i < pickaxeList.length; i++) showItem(pickaxeList[i]);
        document.getElementById("nullChroma").style.display = "none";
        document.getElementById("oblivionFracturer").style.display = "none";
        if (indexHasOre("🎂") && toggleCraftingWorld.world === 1) document.getElementById("sillyRecipe").style.display = "flex";
        else document.getElementById("sillyRecipe").style.display = "none";
        if (toggleCraftingWorld.world === 1.1 && !player.gears["gear43"]) getButtonByName("pickaxe33").style.display = "none";
        setListHeight();
    } else {
        const elements = document.getElementsByClassName("craftingButton");
        for (let i = 0; i < elements.length; i++) elements[i].style.display = "none";
        showPickaxes();
        document.getElementById("nullChroma").style.display = "flex";
        get("worldSelectables").style.display = "none";
    }
}
function setWorldSelectors() {
    const er = {
        "0.9" : function() {return player.galacticaUnlocked && currentWorld !== 1.1;},
        "1" : function() {return true && currentWorld !== 1.1;},
        "2" : function() {return player.pickaxes["pickaxe13"] && currentWorld !== 1.1;},
        "1.1" : function() {return player.sr1Unlocked;},
        "1.2" : function() {return player.watrEntered && currentWorld !== 1.1;},
        "???" : function() {return player.trophyProgress["subrealmOneCompletion"].trophyOwned && player.trophyProgress["worldOneCompletion"].trophyOwned && player.trophyProgress["worldTwoCompletion"].trophyOwned && currentWorld !== 1.1;},
    }
    const e = document.getElementsByClassName("worldCraftSelector");
    for (let i = 0; i < e.length; i++) {
        if (er[worldFromName(e[i].textContent)]()) e[i].style.display = "flex";
        else e[i].style.display = "none";
    }
}
function setListHeight() {
    return;
    let search;
    if (get("pickaxeCrafts").classList.contains("hidden")) {
         search = get("gearCrafts").children;
    } else {
        search = get("pickaxeCrafts").children;
    }
    let count = 0;
    for (let i = 0; i < search.length; i++) {
        if (search[i].style.display === "flex") count++;
    }
    get("mainLower").style.height = `${19 + (count*2.3)}vw`;
}
let currentOreRecipe;
const oreRecipes = {
    "frisbeeCraft" : {
        "cost" : [{"ore":"💠","amt":1}, {"ore":"💙","amt":10}],
        "result" : [{"ore":"🥏", "amt":1}],
        "multiplier" : 1
    },
    "diamondCraft" : {
        "cost" : [{"ore":"💙","amt":25}, {"ore":"🔵","amt":250000}],
        "result" : [{"ore":"💠", "amt":1}],
        "multiplier" : 1
    },
    "bowCraft" : {
        "cost" : [{"ore":"📟","amt":2},{"ore":"🖍️","amt":3},{"ore":"❤️","amt":25}],
        "result" : [{"ore":"🎀", "amt":1}],
        "multiplier" : 1
    },
    "fishCraft" : {
        "cost" : [{"ore":"🫧","amt":2},{"ore":"🤿","amt":2},{"ore":"🎣","amt":2},{"ore":"⛵","amt":2}],
        "result" : [{"ore":"🐟", "amt":1}],
        "multiplier" : 1
    },
    "greenCraft" : {
        "cost" : [{"ore":"🟢","amt":35000}],
        "result" : [{"ore":"💚", "amt":1}],
        "multiplier" : 1
    },
    "blueCraft" : {
        "cost" : [{"ore":"🔵","amt":35000}],
        "result" : [{"ore":"💙", "amt":1}],
        "multiplier" : 1
    },
    "yellowCraft" : {
        "cost" : [{"ore":"🟡","amt":20000}],
        "result" : [{"ore":"💛", "amt":1}],
        "multiplier" : 1
    },
    "orangeCraft" : {
        "cost" : [{"ore":"🟠","amt":25000}],
        "result" : [{"ore":"🧡", "amt":1}],
        "multiplier" : 1
    },
    "redCraft" : {
        "cost" : [{"ore":"🔴","amt":20000}],
        "result" : [{"ore":"❤️", "amt":1}],
        "multiplier" : 1
    },
    "purpleCraft" : {
        "cost" : [{"ore":"🟣","amt":20000}],
        "result" : [{"ore":"💜", "amt":1}],
        "multiplier" : 1
    },
    "brownCraft" : {
        "cost" : [{"ore":"🟤","amt":20000}],
        "result" : [{"ore":"🤎", "amt":1}],
        "multiplier" : 1
    },
    "blackCraft" : {
        "cost" : [{"ore":"🔵","amt":30000}, {"ore":"🟡","amt":30000}, {"ore":"🔴","amt":30000}],
        "result" : [{"ore":"🖤", "amt":1}],
        "multiplier" : 1
    },
    "whiteCraft" : {
        "cost" : [{"ore":"🔵","amt":30000}, {"ore":"🟢","amt":30000}, {"ore":"🔴","amt":30000}],
        "result" : [{"ore":"🤍", "amt":1}],
        "multiplier" : 1
    },
    "hotspringCraft" : {
        "cost" : [{"ore":"❌","amt":33333333333}, {"ore":"💢","amt":333}, {"ore":"⛔","amt":33}, {"ore":"🚫","amt":3}],
        "result" : [{"ore":"♨️", "amt":1}],
        "multiplier" : 1
    },
    "greenFission" : {
        "cost" : [{"ore":"💚", "amt":1}],
        "result" : [{"ore":"🟢","amt":25000}],
        "multiplier" : 1
    },
    "blueFission" : {
        "cost" : [{"ore":"💙", "amt":1}],
        "result" : [{"ore":"🔵","amt":25000}],
        "multiplier" : 1
    },
    "yellowFission" : {
        "cost" : [{"ore":"💛", "amt":1}],
        "result" : [{"ore":"🟡","amt":15000}],
        "multiplier" : 1
    },
    "orangeFission" : {
        "cost" : [{"ore":"🧡", "amt":1}],
        "result" : [{"ore":"🟠","amt":20000}],
        "multiplier" : 1
    },
    "redFission" : {
        "cost" : [{"ore":"❤️", "amt":1}],
        "result" : [{"ore":"🔴","amt":15000}],
        "multiplier" : 1
    },
    "purpleFission" : {
        "cost" : [{"ore":"💜", "amt":1}],
        "result" : [{"ore":"🟣","amt":15000}],
        "multiplier" : 1
    },
    "brownFission" : {
        "cost" : [{"ore":"🤎", "amt":1}],
        "result" : [{"ore":"🟤","amt":15000}],
        "multiplier" : 1
    },
    "blackFission" : {
        "cost" : [{"ore":"🖤", "amt":1}],
        "result" : [{"ore":"🔵","amt":20000}, {"ore":"🟡","amt":20000}, {"ore":"🔴","amt":20000}],
        "multiplier" : 1
    },
    "whiteFission" : {
        "cost" : [{"ore":"🤍", "amt":1}],
        "result" : [{"ore":"🔵","amt":20000}, {"ore":"🟢","amt":20000}, {"ore":"🔴","amt":20000}],
        "multiplier" : 1
    },
    "gearCraft" : {
        "cost" : [{"ore":"🤍","amt":1}, {"ore":"🖤","amt":2}, {"ore":"⚫","amt":10000}],
        "result" : [{"ore":"⚙️", "amt":1}],
        "multiplier" : 1
    },
    "batteryCraft" : {
        "cost" : [{"ore":"💍","amt":2}, {"ore":"🥏","amt":3}, {"ore":"🤍","amt":5}, {"ore":"💚","amt":10}, {"ore":"🔵","amt":50000}],
        "result" : [{"ore":"🔋", "amt":1}],
        "multiplier" : 1
    },
    "bambooCraft" : {
        "cost" : [{"ore":"🎄","amt":2}, {"ore":"🌻","amt":2}, {"ore":"🍁","amt":2}, {"ore":"💚","amt":20}, {"ore":"🟢","amt":100000}],
        "result" : [{"ore":"🎍", "amt":1}],
        "multiplier" : 1
    },
    "idoliumFission" : {
        "cost" : [{"ore":"💎","amt":1}],
        "result" : [{"ore":"🔮", "amt":2}, {"ore":"🔋", "amt":2}, {"ore":"💍", "amt":4}, {"ore":"🥏", "amt":5}, {"ore":"💠", "amt":10}, {"ore":"🪨", "amt":250000}],
        "multiplier" : 1
    },
    "cylinderFission" : {
        "cost" : [{"ore":"🧵","amt":1}],
        "result" : [{"ore":"🕯️", "amt":2}, {"ore":"🎨", "amt":1}, {"ore":"🥽", "amt":5}, {"ore":"🪄", "amt":10}, {"ore":"🌫️", "amt":750000}],
        "multiplier" : 1
    },
    "circleFission" : {
        "cost" : [{"ore":"⭕","amt":1}],
        "result" : [{"ore":"🔕", "amt":2}],
        "multiplier" : 1
    },
    "bellFission" : {
        "cost" : [{"ore":"🛎️","amt":1}],
        "result" : [{"ore":"🚧", "amt":5}, {"ore":"⛓️", "amt":10}, {"ore":"🖇️", "amt":200}, {"ore":"🔒", "amt":500}, {"ore":"🚪", "amt":250000000}],
        "multiplier" : 1
    },
    "wtfCraft" : {
        "cost" : [{"ore":"⚙️","amt":250000000},{"ore":"🃏","amt":250000000},{"ore":"💠","amt":250000000},{"ore":"⚜️","amt":250000000},{"ore":"🖍️","amt":250000000},{"ore":"✂️","amt":250000000},{"ore":"⚱️","amt":250000000},{"ore":"🧪","amt":250000000},{"ore":"🎭","amt":250000000},{"ore":"🎲","amt":250000000},{"ore":"⛵","amt":250000000},{"ore":"🪜","amt":250000000},{"ore":"🥏","amt":250000000},{"ore":"🎣","amt":250000000},{"ore":"🤿","amt":250000000},{"ore":"🫧","amt":250000000},{"ore":"📟","amt":250000000},{"ore":"🍁","amt":250000000},{"ore":"🪄","amt":250000000},{"ore":"🌻","amt":250000000},{"ore":"🪚","amt":250000000},{"ore":"⚗️","amt":250000000},{"ore":"🪵","amt":250000000},{"ore":"🗿","amt":250000000},{"ore":"🔔","amt":250000000},{"ore":"🥽","amt":250000000},{"ore":"🎄","amt":250000000},{"ore":"🗡️","amt":250000000},{"ore":"🎴","amt":250000000},{"ore":"🧩","amt":250000000},{"ore":"💍","amt":250000000},{"ore":"🪙","amt":250000000},{"ore":"🔗","amt":250000000},{"ore":"🐟","amt":250000000},{"ore":"⏹️","amt":250000000},{"ore":"🎀","amt":250000000},{"ore":"🧨","amt":250000000},{"ore":"🎍","amt":250000000},{"ore":"🔋","amt":250000000},{"ore":"🪬","amt":250000000},{"ore":"🏆","amt":250000000},{"ore":"🗜️","amt":250000000},{"ore":"🧲","amt":250000000},{"ore":"🎨","amt":250000000},{"ore":"🔳","amt":250000000},{"ore":"⌚","amt":250000000},{"ore":"🕋","amt":250000000},{"ore":"🔮","amt":250000000},{"ore":"🕯️","amt":250000000},{"ore":"👑","amt":250000000},{"ore":"🎇","amt":250000000},{"ore":"🎃","amt":250000000},{"ore":"🔱","amt":250000000},{"ore":"⭐","amt":250000000},{"ore":"🌲","amt":250000000},{"ore":"☄️","amt":250000000},{"ore":"🔆","amt":250000000},{"ore":"🔥","amt":117000000},{"ore":"💎","amt":110000000},{"ore":"📝","amt":93800000},{"ore":"🧵","amt":93300000},{"ore":"🌏","amt":87900000},{"ore":"🌪️","amt":75900000},{"ore":"🌟","amt":72900000},{"ore":"💥","amt":50000000},{"ore":"❄️","amt":48500000},{"ore":"🔩","amt":44500000},{"ore":"🪞","amt":43900000},{"ore":"🥉","amt":42200000},{"ore":"🥀","amt":34800000},{"ore":"🌌","amt":34100000},{"ore":"🧊","amt":32100000},{"ore":"🧀","amt":30300000},{"ore":"🌀","amt":30300000},{"ore":"🪐","amt":26400000},{"ore":"👿","amt":25000000},{"ore":"⌛","amt":25000000},{"ore":"💸","amt":24800000},{"ore":"🥗","amt":23400000},{"ore":"👀","amt":19600000},{"ore":"🪩","amt":18700000},{"ore":"👁️","amt":9770000},{"ore":"💫","amt":9380000},{"ore":"🏵️","amt":7210000},{"ore":"🌈","amt":6820000},{"ore":"🎆","amt":6250000},{"ore":"apatite","amt":5770000},{"ore":"🪅","amt":5770000},{"ore":"💐","amt":5000000},{"ore":"🌇","amt":4360000},{"ore":"🏔️","amt":3410000},{"ore":"🚿","amt":3120000},{"ore":"⚠️","amt":2810000},{"ore":"🐪","amt":2400000},{"ore":"🐋","amt":2340000},{"ore":"🏰","amt":2110000},{"ore":"💵","amt":2100000},{"ore":"🌳","amt":2020000},{"ore":"🦴","amt":107000},{"ore":"🦚","amt":76500},{"ore":"🎩","amt":62400},{"ore":"🏯","amt":43600},{"ore":"🍓","amt":33500},{"ore":"🤖","amt":29300},{"ore":"⚓","amt":25000},{"ore":"🪤","amt":23400},{"ore":"Bismuth","amt":22500},{"ore":"variousMinerals","amt":9160},{"ore":"mutatedGrowth","amt":5110}],
        "result" : [{"ore":"singularityEgg", "amt":1}],
        "multiplier" : 1
    }
}
function getRecipeById(id) {
    return oreRecipes[id];
}
function displayOreRecipe(id) {
    if (currentOreRecipe !== undefined) {
        let toRemove = document.getElementsByClassName("forgeOreDisplay");
        for (let i = toRemove.length-1; i >= 0; i--) toRemove[i].remove();
        oreRecipes[currentOreRecipe["multiplier"]] = 1;
        if (currentOreRecipe === id) {currentOreRecipe = undefined; return;}
    }
    const recipe = getRecipeById(id);
    const cost = recipe["cost"];
    const result = recipe["result"];
    const multi = recipe["multiplier"];
    for (let i = 0; i < cost.length; i++) {
        let amt = cost[i].amt;
        let have = playerInventory[cost[i]["ore"]]["normalAmt"];
        let ore = cost[i]["ore"];
        const elem = createOreElement(have, amt, ore);
        elem.classList.remove("recipeOreDisplay");
        elem.classList.add("forgeOreDisplay");
        if (i === 0 ) {
            elem.classList.add("beginningElem");
        }
        if (i === cost.length-1) {
            elem.classList.add("endingElem");
        }
        get("forgeCost").appendChild(elem);
    }
    for (let i = 0; i < result.length; i++) {
        let amt = result[i].amt;
        let ore = result[i]["ore"];
        const elem = createOreElement(undefined, amt, ore);
        elem.classList.remove("recipeOreDisplay");
        elem.classList.add("forgeOreDisplay");
        if (i === 0) {
            elem.classList.add("beginningElem");
        }
        if (i === result.length-1) {
            elem.classList.add("endingElem");
        }
        get("forgeOutput").appendChild(elem);
    }
    get("forgeMultiplier").textContent = `1x`;
    currentOreRecipe = id;
    oreRecipes[currentOreRecipe]["multiplier"] = 1;
    updateCurrentForgeCraft();
}
function multiplyRecipe(amt) {
    if (currentOreRecipe !== undefined) {
        if (!isNaN(Number(amt)) && amt > 0) {
            oreRecipes[currentOreRecipe]["multiplier"] = amt;
            updateCurrentForgeCraft();
            get("forgeMultiplier").textContent = `${formatNumber(amt)}x`;
        }
    }
}
function updateCurrentForgeCraft() {
    if (currentOreRecipe === undefined) return;
    let list = oreRecipes[currentOreRecipe]["cost"];
    let elems = document.getElementsByClassName("forgeOreDisplay");
    for (let i = 0; i < list.length; i++) {
        let text = elems[i].innerHTML;
        const have = playerInventory[list[i]["ore"]]["normalAmt"];
        const need = list[i]["amt"] * oreRecipes[currentOreRecipe]["multiplier"];
        let replaceWith;
        let toReplace;
        if (oreList[list[i]["ore"]]["hasImage"]) {
            toReplace = text.substring(text.lastIndexOf(">"));
            replaceWith = `>${formatForgeNum(have)}/${formatForgeNum(need)}`;
        } else {
            toReplace = text.substring(text.lastIndexOf(" "));
            replaceWith = ` ${formatForgeNum(have)}/${formatForgeNum(need)}`;
        }
        if (have >= need) elems[i].style.color = "#6BC267";
        else elems[i].style.color = "#FF3D3D";
        elems[i].innerHTML = elems[i].innerHTML.replace(toReplace, replaceWith);
    }
    let i = list.length;
    let list2 = oreRecipes[currentOreRecipe]["result"];
    for (let j = i; j < list2.length + list.length; j++) {
        let text = elems[j].innerHTML;
        const result = list2[j-list.length]["amt"] * oreRecipes[currentOreRecipe]["multiplier"];
        let replaceWith;
        let toReplace;
        if (oreList[list2[j-list.length]["ore"]]["hasImage"]) {
            toReplace = text.substring(text.lastIndexOf(">"));
            replaceWith = `>${formatForgeNum(result)}`;
        } else {
            toReplace = text.substring(text.lastIndexOf(" "));
            replaceWith = ` ${formatForgeNum(result)}`;
        }
        elems[j].innerHTML = elems[j].innerHTML.replace(toReplace, replaceWith);
    }
}
function formatForgeNum(num) {
    if (num >= 1000000) return formatNumber(num, 2);
    else return num.toLocaleString();
}
function craftOre() {
    let recipe = getRecipeById(currentOreRecipe);
    let canCraft = true;
    for (let i = 0; i < recipe["cost"].length; i++) {
        let ore = recipe["cost"][i]["ore"];
        let amt = recipe["cost"][i]["amt"] * recipe["multiplier"];
        if (playerInventory[ore]["normalAmt"] < amt) {
            canCraft = false; 
            break;
        }
    }
    if (canCraft) {
        for (let i = 0; i < recipe["cost"].length; i++) {
            let ore = recipe["cost"][i]["ore"];
            let amt = recipe["cost"][i]["amt"] * recipe["multiplier"];
            playerInventory[ore]["normalAmt"] -= amt;
            inventoryObj[ore] = 0;
        }
        for (let i = 0; i < recipe["result"].length; i++) {
            playerInventory[recipe["result"][i]["ore"]]["normalAmt"] += (recipe["result"][i]["amt"] * recipe["multiplier"]);
            inventoryObj[recipe["result"][i]["ore"]] = 0;
        }
    }
    updateCurrentForgeCraft();
}
const upgradeRecipes = {
    "pickaxe27" : {
        "upgrade0" : 
        {
            recipe : [
                {ore: "🇩🇿", amt: 25},
                {ore: "🇸🇩", amt: 25},
                {ore: "🇺🇬", amt: 5},
                {ore: "🇰🇪", amt: 3},
            ],
            descriptions : [
                "Luck:<br>1 -> 3",
                "Ability Size:<br>4,383 -> 19,928"
            ]
        },
        "upgrade1" : 
        {
            recipe : [
                {ore: "🇪🇬", amt: 100},
                {ore: "🇪🇹", amt: 90},
                {ore: "🇳🇬", amt: 80},
                {ore: "🇹🇷", amt: 70},
                {ore: "🇮🇷", amt: 60},
                {ore: "🇻🇳", amt: 50},
                {ore: "🇵🇭", amt: 30},
            ],
            descriptions : [
                "Luck:<br>3 -> 10",
                "Ability Size:<br>19,928 -> 30,397"
            ]
        },
        "upgrade2" : 
        { 
            recipe : [   
                {ore: "🇨🇦", amt: 50},
                {ore: "🇲🇽", amt: 40},
                {ore: "🇺🇸", amt: 30},
                {ore: "🇳🇱", amt: 15},
                {ore: "🇷🇴", amt: 12},
                {ore: "🇺🇦", amt: 10},
                {ore: "🇵🇱", amt: 8},
            ],
            descriptions : [
                "Luck:<br>10 -> 20",
                "Ability Size:<br>30,397 -> 37,468"
            ]
        },
        "upgrade3" : 
        { 
            recipe : [   
                {ore: "🇬🇧", amt: 35},
                {ore: "🇩🇪", amt: 30},
                {ore: "🇷🇺", amt: 25},
                {ore: "🇺🇾", amt: 10},
                {ore: "🇵🇾", amt: 7},
                {ore: "🇧🇴", amt: 4},
            ],
            descriptions : [
                "Luck:<br>20 -> 40",
                "Ability Size:<br>37,491 -> 46,650"
            ]
        },
        "upgrade4" : 
        { 
            recipe : [   
                {ore: "🇵🇪", amt: 15},
                {ore: "🇦🇷", amt: 12},
                {ore: "🇨🇴", amt: 10},
                {ore: "🇧🇷", amt: 8},
                {ore: "🇼🇸", amt: 5},
                {ore: "🇳🇨", amt: 3},
                {ore: "🇵🇫", amt: 1},
            ],
            descriptions : [
                "Luck:<br>40 -> 100",
                "Ability Size:<br>46,650 -> 54,298"
            ]
        },
        //54298 63893
        
    }
}
function addPickaxeDescriptions() {
    const ignore = ["pickaxe0", "pickaxe13", "pickaxe23", "pickaxe26", "pickaxe27"]
    for (let pickaxeName in pickaxeStats) {
        if (ignore.indexOf(pickaxeName) === -1) {
            const mainElement = get(`${pickaxeName}Description`);
            let children = mainElement.children;
            const appendSecond = children[1];
            let html = `<span>Has an ability proc rate of 1/${pickaxeStats[pickaxeName].rate}.<br>Has ${pickaxeStats[pickaxeName].luck}x luck.<br>${pickaxeStats[pickaxeName].extraInformation !== undefined ? (pickaxeStats[pickaxeName].extraInformation + "<br>") : ""}`
            appendSecond.insertAdjacentHTML("beforebegin", html);
        }
    }
    
}
const pickaxeStats = {
    "pickaxe0" : {
        mined: 1, 
        revealed: 1,
        luck: 1, 
        rate: 1, 
        src: "⛏️", 
        doAbility: function(x, y) {null;},
        canSpawnCaves:[],
        canMineIn:[1],
        tier: 0,
        icon: "",
    },
    "pickaxe1" : {
        mined: 48, 
        revealed: 140, 
        luck: 1, 
        rate: 50, 
        src: `<img class="mineImage" src="media/mulchMalletIcon.png"></img>`, 
        ability:"media/abilityImages/mulchMalletAbility.png", 
        doAbility: function(x, y) {pickaxeAbility1(x, y)},
        canSpawnCaves:[],
        canMineIn:[1],
        tier: 1,
        icon: "@mckirbchungs",
    },
    //2 cons
    "pickaxe2" : {
        mined: 96, 
        revealed: 156, 
        luck: 1.1, 
        rate: 50, 
        src: `<img class="mineImage" src="media/mudSickleIcon.png"></img>`, 
        ability:"media/abilityImages/mudSickleAbility.png", 
        doAbility: function(x, y) {pickaxeAbility2(x, y)},
        canSpawnCaves:[],
        canMineIn:[1],
        tier: 1,
        icon: "@monocrexem_",
    },
    //3.5 cons
    "pickaxe3" : {
        mined: 228, 
        revealed: 468, 
        luck: 1.1, 
        rate: 100, 
        src: `<img class="mineImage" src="media/dirtRavagerIcon.png"></img>`, 
        ability:"media/abilityImages/dirtRavagerAbility.png", 
        doAbility: function(x, y) {pickaxeAbility3(x, y)},
        canSpawnCaves:[],
        canMineIn:[1],
        tier: 1,
        icon: "@lemurkin",
    },
    //5.148 cons
    "pickaxe28" : {
        mined: 248, 
        revealed: 354, 
        luck: 1.275, 
        rate: 60, 
        src: `<img class="mineImage" src="media/crystallineExcavatorIcon.webp"></img>`, 
        ability:"media/abilityImages/crystallineExcavatorAbility.png", 
        doAbility: function(x, y) {pickaxeAbility28(x, y) },
        canSpawnCaves:[],
        canMineIn:[1],
        tier: 2,
        icon: "@verrdant",
        },
    //7.52 cons
    "pickaxe29": {
        mined: 309,
        revealed: 423,
        luck: 1.2,
        rate: 50,
        src: `<img class="mineImage" src="media/ballastBreakerIcon.png"></img>`,
        ability: "media/abilityImages/anchorAbility.png",
        doAbility: function(x, y) { pickaxeAbility29(x, y) },
        canSpawnCaves:[],
        canMineIn:[1],
        tier: 2,
        icon: "@verrdant",
    },
    //10.15 cons
    "pickaxe30": {
        mined: 378,
        revealed: 510,
        luck: 1.3,
        rate: 45,
        src: `<img class="mineImage" src="media/tropicalCarverIcon.webp"></img>`,
        ability: "media/abilityImages/palmTreeAbility.png",
        doAbility: function(x, y) { pickaxeAbility30(x, y) },
        canSpawnCaves:[],
        canMineIn:[1],
        tier: 2,
        icon: "@wrab",
    },
    //14.73 cons
    "pickaxe4": {
        mined: 437,
        revealed: 597,
        luck: 1.25,
        rate: 35,
        src: `<img class="mineImage" src="media/voidCrusherIcon.webp"></img>`,
        ability: "media/abilityImages/voidCrusherAbility.png",
        doAbility: function(x, y) { pickaxeAbility4(x, y) },
        canSpawnCaves:[],
        canMineIn:[1],
        tier: 3,
        icon: "@mrfloaties",
    },
    //21.32 cons
    "pickaxe5": {
        mined: 604,
        revealed: 796,
        luck: 1.3,
        rate: 35,
        src: `<img class="mineImage" src="media/geodeStaffIcon.png"></img>`,
        ability: "media/abilityImages/geodeStaffAbility.png",
        doAbility: function(x, y) { pickaxeAbility5(x, y) },
        canSpawnCaves:[1],
        canMineIn:[1],
        extraInformation: "Enables cave spawns in World 1, along with every pickaxe after it.",
        tier: 3,
        icon: "@monocrexem_",
    },
    //29.56 cons
    "pickaxe6": {
        mined: 822,
        revealed: 1207,
        luck: 1.3,
        rate: 40,
        src: `<img class="mineImage" src="media/earthSoilerIcon.png"></img>`,
        ability: "media/abilityImages/earthSoilerAbility.png",
        doAbility: function(x, y) { pickaxeAbility6(x, y) },
        canSpawnCaves:[1],
        canMineIn:[1],
        tier: 3,
        icon: "@wrab",
    },
    //44 cons
    "pickaxe7": {
        mined: 1036,
        revealed: 2731,
        luck: 1.75,
        rate: 65,
        src: `<img class="mineImage" src="media/cryptSmasherIcon.png"></img>`,
        ability: "media/abilityImages/cryptSmasherAbility.png",
        doAbility: function(x, y) { pickaxeAbility7(x, y) },
        canSpawnCaves:[1],
        canMineIn:[1],
        extraInformation: "85% line repetition chance, 7 max repetitions.",
        tier: 4,
        icon: "@thecatofalltime",
    },
    //73.52 cons
    "pickaxe8": {
        mined: 1264,
        revealed: 2095,
        luck: 3.75,
        rate: 60,
        src: `<img class="mineImage" src="media/labyrinthianTideIcon.webp"></img>`,
        ability: "media/abilityImages/labyrinthianTideAbility.png",
        doAbility: function(x, y) { pickaxeAbility8(x, y) },
        canSpawnCaves:[1],
        canMineIn:[1],
        extraInformation: "70% line repetition chance, 7 max repetitions.",
        tier: 4,
        icon: "@verrdant",
    },
    //130.93 cons
    "pickaxe9": {
        mined: 1445,
        revealed: 1665,
        luck: 5,
        rate: 35,
        src: `<img class="mineImage" src="media/77LeafDestroyerIcon.png"></img>`,
        ability: "media/abilityImages/77LeafDestroyerAbility.png",
        doAbility: function(x, y) { pickaxeAbility9(x, y) },
        canSpawnCaves:[1],
        canMineIn:[1],
        extraInformation: "<i>The pickaxe resonates with a distant entity.. a signal sent from far beyond these lands. Further traces of it are found within the blueprint for a particular craft of a key, one designed to open the lock to a completely new world..</i>",
        tier: 5,
        icon: "@marcelacoplao",
    },
    //237.85 cons
    "pickaxe10": {
        mined: 1989,
        revealed: 2803,
        luck: 7.5,
        rate: 50,
        src: `<img class="mineImage" src="media/planetBusterIcon.webp"></img>`,
        ability: "media/abilityImages/planetBusterAbility.png",
        doAbility: function(x, y) { pickaxeAbility10(x, y) },
        canSpawnCaves:[1],
        canMineIn:[1],
        tier: 5,
        icon: "@verrdant",
},
    //420.45 cons
    "pickaxe11": {
        mined: 2564,
        revealed: 3288,
        luck: 25,
        rate: 80,
        src: `<img class="mineImage" src="media/whirlpoolOfFateIcon.png"></img>`,
        ability: "media/abilityImages/whirlpoolOfFateAbility.png",
        doAbility: function(x, y) { pickaxeAbility11(x, y) },
        canSpawnCaves:[1],
        canMineIn:[1],
        tier: 6,
        icon: "@wrab",
},
    //1027.5 cons
    "pickaxe12": {
        mined: 7269,
        revealed: 8025,
        luck: 60,
        rate: 250,
        src: `<img class="mineImage" src="media/wingsOfGloryIcon.png"></img>`,
        ability: "media/abilityImages/wingsOfGloryAbility.png",
        doAbility: function(x, y) { pickaxeAbility12(x, y) },
        canSpawnCaves:[1],
        canMineIn:[1],
        extraInformation: "Mines 2 blocks at once when using automine.<br>Has 2x special cave type luck and slightly increased cave size.",
        tier: 7,
        icon: "@marcelacoplao",
},
    
    "pickaxe13": {
        mined: 1,
        revealed: 1,
        luck: 1,
        rate: 1,
        src: `<img class="mineImage" src="media/theKeyIcon.png"></img>`,
        doAbility: function(x, y) {},
        canSpawnCaves:[1, 2],
        canMineIn:[1, 2],
        tier: 0,
        icon: "@marcelacoplao",
},
    "pickaxe14": {
        mined: 40,
        revealed: 51,
        luck: 1.05,
        rate: 45,
        src: `<img class="mineImage" src="media/extremeEcholocatorIcon.png"></img>`,
        ability: "media/abilityImages/extremeEcholocatorAbility.png",
        doAbility: function(x, y) { pickaxeAbility14(x, y) },
        canSpawnCaves:[1, 2],
        canMineIn:[1, 2],
        tier: 1,
        icon: "@hulfe",
},
    "pickaxe15": {
        mined: 112,
        revealed: 140,
        luck: 1.075,
        rate: 75,
        src: "⛏️",
        ability: "media/abilityImages/corundumCaverAbility.png",
        doAbility: function(x, y) { pickaxeAbility15(x, y) },
        canSpawnCaves:[1, 2],
        canMineIn:[1, 2],
        tier: 1,
        icon: "",
},
    "pickaxe16": {
        mined: 218,
        revealed: 292,
        luck: 1.3,
        rate: 100,
        src: `<img class="mineImage" src="media/starborneSlasherIcon.webp"></img>`,
        ability: "media/abilityImages/starborneSlasherAbility.png",
        doAbility: function(x, y) { pickaxeAbility16(x, y) },
        canSpawnCaves:[1, 2],
        canMineIn:[1, 2],
        tier: 1,
        icon: "@wrab",
},
    "pickaxe17": {
        mined: 826,
        revealed: 936,
        luck: 1,
        rate: 150,
        src: `<img class="mineImage" src="media/nyabombIcon.png"></img>`,
        ability: "media/abilityImages/nyabombAbility.png",
        doAbility: function(x, y) { pickaxeAbility17(x, y) },
        canSpawnCaves:[1, 2],
        canMineIn:[1, 2],
        tier: 2,
        icon: "@mckirbchungs",
},
    "pickaxe18": {
        mined: 1005,
        revealed: 1160,
        luck: 1.5,
        rate: 150,
        src: `<img class="mineImage" src="media/lunarLightsabreIcon.png"></img>`,
        ability: "media/abilityImages/lunarLightsabreAbility.png",
        doAbility: function(x, y) { pickaxeAbility18(x, y) },
        canSpawnCaves:[1, 2],
        canMineIn:[1, 2],
        tier: 2,
        icon: "@mckirbchungs",
},
    "pickaxe19": {
        mined: 656,
        revealed: 754,
        luck: 2,
        rate: 60,
        src: "⛏️",
        ability: "media/abilityImages/gemstoneEngraverAbility.png",
        doAbility: function(x, y) { pickaxeAbility19(x, y, 0)},
        canSpawnCaves:[1, 2],
        canMineIn:[1, 2],
        extraInformation: "High repetition chance, 7 max repititions.",
        tier: 3,
        icon: "",
},
    "pickaxe20": {
        mined: 1082,
        revealed: 1343,
        luck: 3,
        rate: 75,
        src: `<img class="mineImage" src="media/gamblersFallacyIcon.png"></img>`,
        ability: "media/abilityImages/gamblersFallacyAbility.png",
        doAbility: function(x, y) { pickaxeAbility20(x, y) },
        extraInformation: "Tunneler: If not automining at Y = 7,999, has a chance to teleport beneath the barrier.",
        canSpawnCaves:[1, 2],
        canMineIn:[1, 2],
        tier: 3,
        icon: "@wrab",
},
    "pickaxe21": {
        mined: 1946,
        revealed: 4489,
        luck: 2,
        rate: 75,
        src: "⛏️",
        ability: "media/abilityImages/exponentialCentrifugeAbility.png",
        doAbility: function(x, y) { pickaxeAbility21(x, y) },
        canSpawnCaves:[1, 2],
        canMineIn:[1, 2],
        tier: 4,
        icon: "",
},
    "pickaxe22": {
        mined: 2498,
        revealed: 5632,
        luck: 4,
        rate: 120,
        src: `<img class="mineImage" src="media/singularitySlammerIcon.png"></img>`,
        ability: "media/abilityImages/singularitySlammerAbility.png",
        doAbility: function(x, y) { pickaxeAbility22(x, y) },
        canSpawnCaves:[1, 2],
        canMineIn:[1, 2],
        tier: 4,
        icon: "@verrdant",
},
    "pickaxe23": {
        mined: 4518,
        revealed: 6325,
        luck: 8.25,
        rate: 150,
        src: `<img class="mineImage" src="media/staffOfBindingIcon.png"></img>`,
        ability: "media/abilityImages/staffOfBindingAbility.png",
        doAbility: function(x, y) { pickaxeAbility23(x, y) },
        canSpawnCaves:[1, 2],
        canMineIn:[1, 2],
        tier: 5,
        icon: "@wrab",
},
    "pickaxe24": {
        mined: 7964,
        revealed: 9800,
        luck: 12.5,
        rate: 175,
        src: `<img class="mineImage" src="media/sssIcon.png"></img>`,
        ability: "media/abilityImages/sssAbility.png",
        doAbility: function(x, y) { pickaxeAbility24(x, y) },
        canSpawnCaves:[1, 2],
        canMineIn:[1, 2],
        extraInformation: "You've mined too much, best to turn back now. Be warned.",
        tier: 6,
        icon: "@verrdant",
},
    "pickaxe25": {
        mined: 15131,
        revealed: 18594,
        luck: 50,
        rate: 300,
        src: `<img class="mineImage" src="media/coronaryCatastropheIcon.webp"></img>`,
        ability: "media/abilityImages/coronaryCatastropheAbility.png",
        doAbility: function(x, y) { pickaxeAbility25(x, y) },
        canSpawnCaves:[1, 2],
        canMineIn:[1, 2],
        extraInformation: "<i style='font-size: 75%;'>..This is where it ends? The most powerful tool in all the worlds..? No.. it can't end here there must be something more...</i><br><i>Warning: High mine capacities with this pickaxe may lead to game crashes.</i>",
        tier: 7,
        icon: "@wrab",
},
    "pickaxe26": {
        mined: 21021,
        revealed: 26494,
        luck: 175,
        rate: 150,
        src: `<img class="mineImage" src="media/nullChromaIcon.png"></img>`,
        doAbility: function(x, y) { pickaxeAbility26(x, y) },
        canSpawnCaves:[1, 2, 1.2],
        canMineIn:[1, 2, 1.2],
        tier: 9,
        icon: "@wrab",
},
    "pickaxe27" : {
        0 : {mined: 4383, revealed: 4576, luck: 1},
        1 : {mined: 19928, revealed: 20978, luck: 3},
        2 : {mined: 30397, revealed: 33246, luck: 10},
        3 : {mined: 37468, revealed: 41654, luck: 20},
        4 : {mined: 46650, revealed: 54781, luck: 40},
        5 : {mined: 54298, revealed: 63893, luck: 100},
        rate: 500,
        src : "⛏️",
        doAbility: function(x, y) {pickaxeAbility27(x, y)},
        canSpawnCaves:[1, 1.1],
        canMineIn:[1, 1.1],
        tier: 8,
        icon: "",
    }, 
    "pickaxe31" : {
        mined: 34321,
        revealed: 35899,
        luck: 425,
        rate: 200,
        src : `<img class="mineImage" src="media/underseaEvisceratorIcon.webp"></img>`,
        ability: "media/abilityImages/underseaEvisceratorAbility.png",
        doAbility: function(x, y) {pickaxeAbility31(x, y)},
        canSpawnCaves:[1, 1.2, 2, 0.9],
        canMineIn:[1, 1.2, 2, 0.9],
        tier: 10,
        icon: "@wrab",
    },
    "pickaxe32" : {
        mined: 75000,
        revealed: 1,
        luck: 500,
        rate: 200,
        src : `<img class="mineImage" src="media/dimensionalSlicerIcon.png"></img>`,
        ability: "",
        doAbility: function(x, y) {},
        canSpawnCaves:[1, 1.2, 2, 0.9],
        canMineIn:[1, 1.2, 2, 0.9],
        isDimensional: true,
        tier: 11,
        icon: "@wrab",
    },
    "pickaxe33" : {
        mined: 65000,
        revealed: 1,
        luck: 575,
        rate: 275,
        src : `<img class="mineImage" src="media/wormholeExterminatorIcon.png"></img>`,
        ability: "",
        doAbility: function(x, y) {},
        canSpawnCaves:[1, 1.1, 1.2, 2, 0.9],
        canMineIn:[1, 1.1, 1.2, 2, 0.9],
        isDimensional: true,
        tier: 10,
        icon: "@wrab",
    },
    "pickaxe34" : {
        mined: 180000,
        revealed: 1,
        luck: 500,
        rate: 200,
        src : `<img class="mineImage" src="media/superclusterCapsizerIcon.png"></img>`,
        ability: "",
        doAbility: function(x, y) {},
        canSpawnCaves:[1, 1.2, 2, 0.9],
        canMineIn:[1, 1.2, 2, 0.9],
        isDimensional: true,
        tier: 12,
        icon: "@wrab",
    },
    "pickaxe35" : {
        mined: 500000,
        revealed: 1,
        luck: 650,
        rate: 300,
        src : "⛏️",
        ability: "",
        doAbility: function(x, y) {},
        canSpawnCaves:[1, 1.2, 2, 0.9],
        canMineIn:[1, 1.2, 2, 0.9],
        isDimensional: true,
        tier: 13,
        icon: "",
    },
    "pickaxe36" : {
        mined: 7500000,
        revealed: 1,
        luck: 1500,
        rate: 1000,
        src : "⛏️",
        ability: "",
        doAbility: function(x, y) {},
        canSpawnCaves:[1, 1.2, 2, 0.9],
        canMineIn:[1, 1.2, 2, 0.9],
        isDimensional: true,
        tier: 14,
        icon: "",
    },
}
const gearInformation = {
    "gear0" : {
        effect:"Allows you to access the ore tracker menu, pointing you towards the nearest rare ore that had a spawn message with it owned.",
        tier: 1,
    },
    "gear1" : {
        effect:"Boosts ability luck by 1.1x.",
        tier: 2,
    },
    "gear2" : {
        effect:"Sets mining speed delay to 15ms from 25ms.",
        tier: 2,
    },
    "gear3" : {
        effect:"Instantly mines any rare ore that spawns, excluding celestials.",
        tier: 5,
    },
    "gear4" : {
        effect:"For every block mined, gives you an additional layer block from the current layer.<br>Can duplicate layer blocks.",
        tier: 5,
    },
    "gear5" : {
        effect:"Increases ability luck by 1.6x. Stacks with Real Candilium.",
        tier: 6,
    },
    "gear6" : {
        effect:"Sets mining speed delay to 10ms from 25ms.",
        tier: 6,
    },
    "gear7" : {
        effect:"Decreases mining speed by 3ms for 10s after activation, and can stack 5 more activations, each adding 5s to the duration. Goes on a 5s cooldown when the time ends. Can be activated by mining any Antique+ (1/750k+).",
        tier: 3,
    },
    "gear8" : {
        effect:"Increases ability proc rates by 20%.",
        tier: 4,
    },
    "gear9" : {
        effect:"Generates a Silly Layer at a random position in the Repeating Layers.",
        tier: 0,
    },
    "gear10" : {
        effect:"+0.25x Luck.<br>Stacks with all other luck additions.",
        tier: 1,
    },
    "gear11" : {
        effect:"-3ms Mining Speed.<br>Stacks with all other speed buffs.",
        tier: 1,
    },
    "gear12" : {
        effect:"+0.35x Luck.<br>Stacks with all other luck additions.",
        tier: 2,
    },
    "gear13" : {
        effect:"Has a 75% chance to duplicate any common ore, (1 - 750,000)",
        tier: 1,
    },
    "gear14" : {
        effect:"Enables cave spawns in World 2 and moderately increases cave size.",
        tier: 3,
        },
    "gear15" : {
        effect:"Has a 50% chance to give you 2 extra layer blocks upon mining a layer block.",
        tier: 2,
    },
    "gear16" : {
        effect:"-5ms Mining Speed.<br>Stacks with all other speed buffs.",
        tier: 3,
    },
    "gear17" : {
        effect:"Wait... what do you mean its the same as the first? Why is it called the 2nd if its the exact same thing???",
        tier: 3,
    },
    "gear18" : {
        effect:"+2.5x Luck.<br>Stacks with all other luck additions.",
        tier: 4,
    },
    "gear19" : {
        effect:"-8ms Mining Speed and each movement with automine gains +10 blocks moved.<br>Stacks with all other speed buffs.",
        tier: 7,
    },
    "gear20" : {
        effect:"Multiplies all luck by 5% of your current pickaxe's luck +1. (Cannot lower luck)",
        tier: 6,
    },
    "gear21" : {
        effect:"Enables the spawn of Abysstone Caves.<br>These caves can spawn any layer Antique+, excluding Celestial tier ores, from any world, with a 1/1000 cave spawn chance.",
        tier: 0,
    },
    "gear22" : {
        effect:"Has a 10% chance to duplicate any rare ore mined. (1/750k+)",
        tier: 4,
    },
    "gear23" : {
        effect:"+15% ability activation rate.",
        tier: 4,
    },
    "gear24" : {
        effect:"Automatically cycles through powerups and activates them if they are ready. -25% cooldown time, +50% activation time.",
        tier: 5,
    },
    "gear25" : {
        effect:"Will roll 1 extra time for a variant if an ore is normal.",
        tier: 5,
    },
    "gear26" : {
        effect:"5% chance to give 30x more layer blocks on mining a layer block.",
        tier: 3,
    },
    "gear27" : {
        effect:"1.75x cave type boost.",
        tier: 4,
    },
    "gear28" : {
        effect:"Allows any Infinity Collector to mine Celestial tier ores.",
        tier: 4,
    },
    "gear29" : {
        effect:"Skips over blank tiles while mining. Can skip up to 25 tiles at once. Will be disabled if holding shift while mining (sorry mobile players).<br>Has a 1/250 chance to move the player an extra 50 blocks. (1/175 chance with Simulated RNG)",
        tier: 6,
    },
    "gear30" : {
        effect:"+0.3x Base Luck.",
        tier: 1,
    },
    "gear31" : {
        effect:"Sets mining speed delay to 20ms from 25ms.",
        tier: 1,
    },
    "gear32" : {
        effect:"Adds ~25 blocks per second to your speed.",
        tier: 3,
    },
    "gear33" : {
        effect:"Adds ~75 blocks per second to your speed.",
        tier: 4,
    },
    "gear34" : {
        effect:"Multiplies normal ability size by 4x and simulted ability size by 2x.",
        tier: 7,
    },
    "gear35" : {
        effect:"+50% ability activation rate.",
        tier: 8,
    },
    "gear36" : {
        effect:"1.75x Movement repetitions (rounded up)",
        tier: 8,
    },
    "gear37" : {
        effect:":Luck ^1.035",
        tier: 9,
    },
    "gear38" : {
        effect:"Gives a random buff that changes every minute.<br>Choices: 1.4x Luck, 2x Proc Rate, +25 Movement Repetitions",
        tier: 10,
    },
    "gear39" : {
        effect:"1/2 Proc Rate, 3x Simulated Generation Amount",
        tier: 10,
    },
    "gear40" : {
        effect:"Multiplies base luck by 1.5x<br><i>Where my life began...</i>",
        tier: 11,
    },
    "gear41" : {
        effect:"10% Chance for +500,000 Simulated Ability Amount<br><i>Am I smart enough to be here...</i>",
        tier: 12,
    },
    "gear42" : {
        effect:"Uncapped +0.01x luck for every Hyperdimensional Tier ore owned<br><i>I hear strange music...</i>",
        tier: 13,
    },
    "gear43" : {
        effect:"Allows use of Wormhole Exterminator in Subrealm 1<br><i>I shouldn't be here...</i>",
        tier: 10,
    },
    "gear44" : {
        effect:"+50 Movement Repetitions<br><i>This place birthed the stars in the sky...</i>",
        tier: 14,
    },
    "gear45" : {
        effect:"Unlocks event manager buttons.",
        tier: 0,
    },
    "gear46" : {
        effect:"+0.2x offline progress rewards.",
        tier: 0,
    },
    "gear47" : {
        effect:"+0.45x offline progress rewards.",
        tier: 0,
    },
    "gear48" : {
        effect:"Uncapped Luck * (Session time in minutes * 0.01) +1<br><i>It's so hot here...</i>",
        tier: 14,
    },
}
function ct() {
    const nums = calcSpeed();
    nums.speed = nums.speed < 1 ? 0 : nums.speed;
    const speed = (1000 / nums.speed) * nums.reps + nums.extra;
    const pickaxeUsing = player.stats.currentPickaxe;
    let abilityMined = pickaxeUsing !== "pickaxe27" ? pickaxeStats[pickaxeUsing].mined : pickaxeStats["pickaxe27"][player.upgrades["pickaxe27"].level].mined;
    if (player.settings.simulatedRng || pickaxeStats[pickaxeUsing].isDimensional) {
        if (player.gears["gear41"]) abilityMined += 50000;
        if (player.gears["gear34"]) abilityMined = Math.floor(abilityMined*2);
        if (player.gears["gear39"]) abilityMined = Math.floor(abilityMined*3);
    }
    const abilityRevealed = pickaxeUsing !== "pickaxe27" ? pickaxeStats[pickaxeUsing].revealed : pickaxeStats["pickaxe27"][player.upgrades["pickaxe27"].level].revealed;
    let m = 1;
    if (currentWorld < 2 && player.gears["gear8"]) m += 0.2;
    if (player.gears["gear23"]) m += 0.15;
    if (player.gears["gear35"]) m += 0.5;
    if (batteryEvent) m += 0.1;
    if (randBuff.proc) m *= 2;
    if (player.gears["gear39"]) m *= 0.5;
    const abilityRate = pickaxeUsing !== "pickaxe27" ? pickaxeStats[pickaxeUsing].rate/m : 500/m;
    const rId = currentRecipeId === undefined ? pinInformation.pinned : currentRecipeId;
    const recipe = pickaxeUsing !== "pickaxe27" ? recipes[rId].recipe : player.upgrades["pickaxe27"].level === player.upgrades["pickaxe27"].maxLevel ? "RETURN" : upgradeRecipes["pickaxe27"][`upgrade${player.upgrades["pickaxe27"].level}`].recipe;
    if (recipe === "RETURN") return msToTime(0);
    const recipeLayers = {
    }
    for (let i = 0; i < recipe.length; i++) {
        const ore = recipe[i].ore;
        if (!oreList[ore]["caveExclusive"] && !(oreList[ore]["oreTier"] === "Infinitesimal")) {
            let currentOreLayer;
            if (oreInformation.isCommon(oreList[ore]["oreTier"]) && oreList[ore]["oreTier"] !== "Layer") {
                recipeLayers.commons ??= {ore: ore, highestProcs : 0, amt:0}
                currentOreLayer = "commons";
            } else {
                for (let layer in layerDictionary) {
                    if (layerDictionary[layer].layer.includes(ore)) {
                        recipeLayers[layer] ??= {ore: ore, highestProcs : 0, amt:0}
                        currentOreLayer = layer;
                        break;
                    }
                }
                if (currentOreLayer === undefined) {
                    const toCheck = ["🐞","🥈","🚬","🪸","🪦","🚨","🍖","📜","🐸"];
                    let isLayer = a87(toCheck.indexOf(ore), true, true)
                    if (isLayer !== undefined) {recipeLayers[isLayer] ??= {ore: ore, highestProcs : 0, amt:0}; currentOreLayer = isLayer}
                    else {recipeLayers["other"] ??= {ore: ore, highestProcs : 0, amt:0}; currentOreLayer = "other"}
                }
            }
            let needed = recipe[i].amt;
            let have = playerInventory[ore]["normalAmt"];
            have = have >= needed ? needed : have;
            needed -= have;
            const rarity = 1/oreList[ore]["decimalRarity"];
            const totalOreRarity = (rarity * needed);
            let totalProcsNeeded;
            if (needed > 0) {
                if (currentOreLayer === "commons") {
                    totalProcsNeeded = totalOreRarity/abilityMined;
                    recipeLayers["commons"].highestProcs += totalProcsNeeded;
                    recipeLayers["commons"].amt++;
                } else {
                    totalProcsNeeded = totalOreRarity/(abilityRevealed > abilityMined ? abilityRevealed : abilityMined);
                    if (oreList[ore]["oreTier"] === "Layer") totalProcsNeeded = totalOreRarity/abilityMined;
                    recipeLayers[currentOreLayer].highestProcs += totalProcsNeeded;
                    recipeLayers[currentOreLayer].amt++;
                }
            }

        }
    }
    let totalProcs = 0;
    let commonAdd = 0;
    if (recipeLayers["commons"] !== undefined) {commonAdd = recipeLayers["commons"].highestProcs / recipeLayers["commons"].amt; delete recipeLayers["commons"]}
    for (let layer in recipeLayers) {
        if (recipeLayers[layer].amt > 0) totalProcs += (recipeLayers[layer].highestProcs/recipeLayers[layer].amt)
    }
    let timeForProcs = (Math.floor(totalProcs) * abilityRate) / speed;
    return longTime(timeForProcs * 1000);
}
